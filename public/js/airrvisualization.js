/*!
 * AIRR Visualization Library v0.4.0 (2021-01-27)
 * 
 * Build Charts for AIIR Data Commons
 * 
 * https://github.com/ireceptorplus-inesctec/airrvisualizationlibrary
 * 
 * @author  Marco Amaro Oliveira <mao@inesctec.pt>  (https://www.linkedin.com/in/marcoamarooliveira/)
 * @license AGPL-3.0-only
 * 
 * @copyright (c) INESCTEC (https://www.inesctec.pt/). All rights reserved.
 */
(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c="function"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error("Cannot find module '"+i+"'");throw a.code="MODULE_NOT_FOUND",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u="function"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()({1:[function(require,module,exports){
function _assertThisInitialized(self) {
  if (self === void 0) {
    throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
  }

  return self;
}

module.exports = _assertThisInitialized;
},{}],2:[function(require,module,exports){
function _classCallCheck(instance, Constructor) {
  if (!(instance instanceof Constructor)) {
    throw new TypeError("Cannot call a class as a function");
  }
}

module.exports = _classCallCheck;
},{}],3:[function(require,module,exports){
function _classPrivateFieldGet(receiver, privateMap) {
  var descriptor = privateMap.get(receiver);

  if (!descriptor) {
    throw new TypeError("attempted to get private field on non-instance");
  }

  if (descriptor.get) {
    return descriptor.get.call(receiver);
  }

  return descriptor.value;
}

module.exports = _classPrivateFieldGet;
},{}],4:[function(require,module,exports){
function _classPrivateFieldSet(receiver, privateMap, value) {
  var descriptor = privateMap.get(receiver);

  if (!descriptor) {
    throw new TypeError("attempted to set private field on non-instance");
  }

  if (descriptor.set) {
    descriptor.set.call(receiver, value);
  } else {
    if (!descriptor.writable) {
      throw new TypeError("attempted to set read only private field");
    }

    descriptor.value = value;
  }

  return value;
}

module.exports = _classPrivateFieldSet;
},{}],5:[function(require,module,exports){
function _defineProperties(target, props) {
  for (var i = 0; i < props.length; i++) {
    var descriptor = props[i];
    descriptor.enumerable = descriptor.enumerable || false;
    descriptor.configurable = true;
    if ("value" in descriptor) descriptor.writable = true;
    Object.defineProperty(target, descriptor.key, descriptor);
  }
}

function _createClass(Constructor, protoProps, staticProps) {
  if (protoProps) _defineProperties(Constructor.prototype, protoProps);
  if (staticProps) _defineProperties(Constructor, staticProps);
  return Constructor;
}

module.exports = _createClass;
},{}],6:[function(require,module,exports){
function _defineProperty(obj, key, value) {
  if (key in obj) {
    Object.defineProperty(obj, key, {
      value: value,
      enumerable: true,
      configurable: true,
      writable: true
    });
  } else {
    obj[key] = value;
  }

  return obj;
}

module.exports = _defineProperty;
},{}],7:[function(require,module,exports){
function _getPrototypeOf(o) {
  module.exports = _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {
    return o.__proto__ || Object.getPrototypeOf(o);
  };
  return _getPrototypeOf(o);
}

module.exports = _getPrototypeOf;
},{}],8:[function(require,module,exports){
var setPrototypeOf = require("./setPrototypeOf");

function _inherits(subClass, superClass) {
  if (typeof superClass !== "function" && superClass !== null) {
    throw new TypeError("Super expression must either be null or a function");
  }

  subClass.prototype = Object.create(superClass && superClass.prototype, {
    constructor: {
      value: subClass,
      writable: true,
      configurable: true
    }
  });
  if (superClass) setPrototypeOf(subClass, superClass);
}

module.exports = _inherits;
},{"./setPrototypeOf":11}],9:[function(require,module,exports){
function _interopRequireDefault(obj) {
  return obj && obj.__esModule ? obj : {
    "default": obj
  };
}

module.exports = _interopRequireDefault;
},{}],10:[function(require,module,exports){
var _typeof = require("@babel/runtime/helpers/typeof");

var assertThisInitialized = require("./assertThisInitialized");

function _possibleConstructorReturn(self, call) {
  if (call && (_typeof(call) === "object" || typeof call === "function")) {
    return call;
  }

  return assertThisInitialized(self);
}

module.exports = _possibleConstructorReturn;
},{"./assertThisInitialized":1,"@babel/runtime/helpers/typeof":12}],11:[function(require,module,exports){
function _setPrototypeOf(o, p) {
  module.exports = _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {
    o.__proto__ = p;
    return o;
  };

  return _setPrototypeOf(o, p);
}

module.exports = _setPrototypeOf;
},{}],12:[function(require,module,exports){
function _typeof(obj) {
  "@babel/helpers - typeof";

  if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") {
    module.exports = _typeof = function _typeof(obj) {
      return typeof obj;
    };
  } else {
    module.exports = _typeof = function _typeof(obj) {
      return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj;
    };
  }

  return _typeof(obj);
}

module.exports = _typeof;
},{}],13:[function(require,module,exports){
"use strict";var _interopRequireDefault=require("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(exports,"__esModule",{value:!0}),exports.HighchartsChart=exports.Chart=void 0;var _assertThisInitialized2=_interopRequireDefault(require("@babel/runtime/helpers/assertThisInitialized")),_inherits2=_interopRequireDefault(require("@babel/runtime/helpers/inherits")),_possibleConstructorReturn2=_interopRequireDefault(require("@babel/runtime/helpers/possibleConstructorReturn")),_getPrototypeOf2=_interopRequireDefault(require("@babel/runtime/helpers/getPrototypeOf")),_classCallCheck2=_interopRequireDefault(require("@babel/runtime/helpers/classCallCheck")),_createClass2=_interopRequireDefault(require("@babel/runtime/helpers/createClass")),_classPrivateFieldGet2=_interopRequireDefault(require("@babel/runtime/helpers/classPrivateFieldGet")),_classPrivateFieldSet2=_interopRequireDefault(require("@babel/runtime/helpers/classPrivateFieldSet")),_common=require("./common.js"),_index=require("./index.js"),_properties2=require("./properties.js"),_result2=require("./result.js");function _createSuper(e){var t=_isNativeReflectConstruct();return function(){var i,r=(0,_getPrototypeOf2.default)(e);if(t){var s=(0,_getPrototypeOf2.default)(this).constructor;i=Reflect.construct(r,arguments,s)}else i=r.apply(this,arguments);return(0,_possibleConstructorReturn2.default)(this,i)}}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}var _logger=new WeakMap,_id=new WeakMap,_properties=new WeakMap,_result=new WeakMap,Chart=function(){function e(t){if((0,_classCallCheck2.default)(this,e),_logger.set(this,{writable:!0,value:void 0}),_id.set(this,{writable:!0,value:void 0}),_properties.set(this,{writable:!0,value:void 0}),_result.set(this,{writable:!0,value:void 0}),this.constructor===e)throw new Error("Can not construct abstract class.");if(this.plot===e.prototype.plot)throw new TypeError("Please implement abstract method plot.");(0,_classPrivateFieldSet2.default)(this,_logger,new _common.Logger("Chart")),(0,_classPrivateFieldGet2.default)(this,_logger).debug("Constructor."),(0,_classPrivateFieldSet2.default)(this,_properties,t),(0,_classPrivateFieldSet2.default)(this,_id,this.properties.id),(0,_classPrivateFieldSet2.default)(this,_result,_index.ResultFactory.build(this.getProperties())),(0,_classPrivateFieldGet2.default)(this,_result).parse(this.getProperties())}return(0,_createClass2.default)(e,[{key:"getId",value:function(){return(0,_classPrivateFieldGet2.default)(this,_id)}},{key:"getResult",value:function(){return(0,_classPrivateFieldGet2.default)(this,_result)}},{key:"getProperties",value:function(){return(0,_classPrivateFieldGet2.default)(this,_properties)}},{key:"plot",value:function(){throw(0,_classPrivateFieldGet2.default)(this,_logger).fatal("this plot() method should never execute, specializations of Chart need to overload it."),new TypeError("This method should not be called, implementations need to overload it.")}},{key:"id",get:function(){return this.getId()}},{key:"result",get:function(){return this.getResult()}},{key:"properties",get:function(){return this.getProperties()}}]),e}();exports.Chart=Chart;var _chart=new WeakMap,_logger2=new WeakMap,_highcharts=new WeakMap,HighchartsChart=function(e){(0,_inherits2.default)(i,e);var t=_createSuper(i);function i(e){var r;return(0,_classCallCheck2.default)(this,i),r=t.call(this,e),_chart.set((0,_assertThisInitialized2.default)(r),{writable:!0,value:void 0}),_logger2.set((0,_assertThisInitialized2.default)(r),{writable:!0,value:void 0}),_highcharts.set((0,_assertThisInitialized2.default)(r),{writable:!0,value:void 0}),(0,_classPrivateFieldSet2.default)((0,_assertThisInitialized2.default)(r),_logger2,new _common.Logger("HichartsChart")),(0,_classPrivateFieldGet2.default)((0,_assertThisInitialized2.default)(r),_logger2).debug("Constructor."),(0,_classPrivateFieldSet2.default)((0,_assertThisInitialized2.default)(r),_chart,void 0),r.checkHighcharts(),(0,_classPrivateFieldSet2.default)((0,_assertThisInitialized2.default)(r),_highcharts,window.Highcharts),(0,_classPrivateFieldGet2.default)((0,_assertThisInitialized2.default)(r),_logger2).trace(JSON.stringify((0,_assertThisInitialized2.default)(r))),r}return(0,_createClass2.default)(i,[{key:"getChart",value:function(){return(0,_classPrivateFieldGet2.default)(this,_chart)}},{key:"checkHighcharts",value:function(){(0,_classPrivateFieldGet2.default)(this,_logger2).debug("Checking if highcharts resources are available.");var e=window.Highcharts;if(!e)throw(0,_classPrivateFieldGet2.default)(this,_logger2).error("Highcharts not available"),"Required Highcharts Library not available";if(!e._modules.hasOwnProperty("Extensions/Drilldown.js"))throw(0,_classPrivateFieldGet2.default)(this,_logger2).error("Highcharts Drilldown module not available"),"Required Highcharts Drilldown module not available";if(!e._modules.hasOwnProperty("Extensions/Exporting.js"))throw(0,_classPrivateFieldGet2.default)(this,_logger2).error("Highcharts Exporting module not available"),"Required Highcharts Exporting module not available";if(!e._modules.hasOwnProperty("Extensions/Data.js"))throw(0,_classPrivateFieldGet2.default)(this,_logger2).error("Highcharts Data module not available"),"Required Highcharts Data module not available";if(!e._modules.hasOwnProperty("Extensions/Math3D.js"))throw(0,_classPrivateFieldGet2.default)(this,_logger2).error("Highcharts 3D module not available"),"Required Highcharts 3D module not available"}},{key:"plot",value:function(){var e=new _common.DebugTimer;(0,_classPrivateFieldGet2.default)(this,_logger2).debug("Ploting chart"),e.start("build_Highcharts_structure");var t={chart:{type:this.properties.chartType,animation:this.properties.animation},credits:{enabled:!1},xAxis:{type:"category"},plotOptions:{}};e.start(".asHighchartSeries"),t.series=this.result.series.map(function(e){return e.asHighchartSeries()}),e.end(".asHighchartSeries"),t.title={text:this.properties.title},this.properties.subtitle&&(t.subtitle={text:this.properties.subtitle}),this.properties.yLabel&&(t.yAxis=t.yAxis||{},t.yAxis.title={text:this.properties.yLabel}),this.properties.xLabel&&(t.xAxis=t.xAxis||{},t.xAxis.title={text:this.properties.xLabel}),this.result.drilldown&&((0,_classPrivateFieldGet2.default)(this,_logger2).debug("This is a drilldown chart"),t.drilldown=this.result.drilldownSeries,t.chart.events={drillup:this.result.drillupSeriesEvent,drilldown:this.result.drilldownSeriesEvent}),(0,_classPrivateFieldGet2.default)(this,_logger2).trace("Is 3D (multiple series)? -"+this.result.isMultipleSeries()),this.result.isMultipleSeries()&&(t.chart.options3d={enabled:!0,alpha:this.properties.alpha3D,beta:this.properties.beta3D,depth:this.properties.depth3D,viewDistance:5,fitToPlot:!0,frame:{bottom:{size:1,color:"rgba(0,0,0,0.05)"}}},t.plotOptions.series=t.plotOptions.series||{},t.plotOptions.series.groupZPadding=20,t.plotOptions.series.depth=0,t.plotOptions.series.groupPadding=0,t.plotOptions.series.grouping=!1),this.properties.stackingType&&(t.plotOptions.series=t.plotOptions.series||{},t.plotOptions.series.stacking=this.properties.stackingType),e.end("build_Highcharts_structure"),(0,_classPrivateFieldSet2.default)(this,_chart,(0,_classPrivateFieldGet2.default)(this,_highcharts).chart(this.properties.id,t)),(0,_classPrivateFieldGet2.default)(this,_logger2).trace(JSON.stringify(t)),(0,_classPrivateFieldGet2.default)(this,_logger2).debug("Plotting into "+this.properties.id),(0,_classPrivateFieldGet2.default)(this,_logger2).trace(JSON.stringify(this.result)),(0,_classPrivateFieldGet2.default)(this,_highcharts).addEvent((0,_classPrivateFieldGet2.default)(this,_chart).container,"mousedown",this.getMousedownEvent((0,_classPrivateFieldGet2.default)(this,_chart),this.result.isMultipleSeries())),e.print()}},{key:"getMousedownEvent",value:function(e,t){(0,_classPrivateFieldGet2.default)(this,_logger2).debug("getMousedownEvent");var i=(0,_classPrivateFieldGet2.default)(this,_logger2);if(!t)return(0,_classPrivateFieldGet2.default)(this,_logger2).debug("retrieving default mousedown event on charts."),function(e){i.trace("Default mouse down event on chart.")};var r=(0,_classPrivateFieldGet2.default)(this,_highcharts);return function(t){var s=e,a=(t=s.pointer.normalize(t)).chartX,l=t.chartY,o=s.options.chart.options3d.alpha,u=s.options.chart.options3d.beta,n=5,h=[];function d(e){e=s.pointer.normalize(e);var t=o+(e.chartY-l)/n,i=u+(a-e.chartX)/n;s.update({chart:{options3d:{alpha:t,beta:i}}},void 0,void 0,!1)}function c(){h.forEach(function(e){e&&e()}),h.length=0}h.push(r.addEvent(document,"mousemove",d)),h.push(r.addEvent(document,"touchmove",d)),h.push(r.addEvent(document,"mouseup",c)),h.push(r.addEvent(document,"touchend",c)),i.trace(t.toString())}}},{key:"chart",get:function(){return this.getChart()}}]),i}(Chart);exports.HighchartsChart=HighchartsChart;

},{"./common.js":14,"./index.js":19,"./properties.js":21,"./result.js":22,"@babel/runtime/helpers/assertThisInitialized":1,"@babel/runtime/helpers/classCallCheck":2,"@babel/runtime/helpers/classPrivateFieldGet":3,"@babel/runtime/helpers/classPrivateFieldSet":4,"@babel/runtime/helpers/createClass":5,"@babel/runtime/helpers/getPrototypeOf":7,"@babel/runtime/helpers/inherits":8,"@babel/runtime/helpers/interopRequireDefault":9,"@babel/runtime/helpers/possibleConstructorReturn":10}],14:[function(require,module,exports){
"use strict";var _interopRequireDefault=require("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(exports,"__esModule",{value:!0}),exports.DebugTimer=exports.Common=exports.DataType=exports.GeneType=exports.ResultSeriesType=exports.Logger=void 0;var _classCallCheck2=_interopRequireDefault(require("@babel/runtime/helpers/classCallCheck")),_createClass2=_interopRequireDefault(require("@babel/runtime/helpers/createClass")),_defineProperty2=_interopRequireDefault(require("@babel/runtime/helpers/defineProperty")),_classPrivateFieldGet2=_interopRequireDefault(require("@babel/runtime/helpers/classPrivateFieldGet")),_classPrivateFieldSet2=_interopRequireDefault(require("@babel/runtime/helpers/classPrivateFieldSet")),_source=new WeakMap,Logger=function(){function e(t){(0,_classCallCheck2.default)(this,e),_source.set(this,{writable:!0,value:void 0}),(0,_classPrivateFieldSet2.default)(this,_source,t)}return(0,_createClass2.default)(e,null,[{key:"setDebugLevel",value:function(t){e.DEBUG_LEVEL=t}},{key:"LEVEL_OFF",get:function(){return e.level.OFF}},{key:"LEVEL_TRACE",get:function(){return e.level.TRACE}},{key:"LEVEL_DEBUG",get:function(){return e.level.DEBUG}},{key:"LEVEL_INFO",get:function(){return e.level.INFO}},{key:"LEVEL_WARN",get:function(){return e.level.WARN}},{key:"LEVEL_ERROR",get:function(){return e.level.ERROR}},{key:"LEVEL_FATAL",get:function(){return e.level.FATAL}}]),(0,_createClass2.default)(e,[{key:"_datetime",value:function(){var e=new Date;return(e=[""+e.getFullYear(),"0"+(e.getMonth()+1),"0"+e.getDate(),"0"+e.getHours(),"0"+e.getMinutes(),"0"+e.getSeconds()].map(function(e){return e.slice(-2)})).slice(0,3).join("")+"T"+e.slice(3).join("")}},{key:"_log",value:function(e,t){console.log(this._datetime().concat(" ").concat((0,_classPrivateFieldGet2.default)(this,_source)).concat(" ").concat(e).concat(": \r\n").concat(t))}},{key:"trace",value:function(t){e.DEBUG_LEVEL<=e.LEVEL_TRACE&&this._log("TRACE",t)}},{key:"debug",value:function(t){e.DEBUG_LEVEL<=e.LEVEL_DEBUG&&this._log("DEBUG",t)}},{key:"info",value:function(t){e.DEBUG_LEVEL<=e.LEVEL_INFO&&this._log("INFO",t)}},{key:"warn",value:function(t){e.DEBUG_LEVEL<=e.LEVEL_WARN&&this._log("WARN",t)}},{key:"error",value:function(t){e.DEBUG_LEVEL<=e.LEVEL_ERROR&&this._log("ERROR",t)}},{key:"fatal",value:function(t){e.DEBUG_LEVEL<=e.LEVEL_FATAL&&this._log("FATAL",t)}}],[{key:"error",value:function(t,u){e.DEBUG_LEVEL<=e.LEVEL_ERROR&&new e(t)._log("ERROR",u)}}]),e}();exports.Logger=Logger,(0,_defineProperty2.default)(Logger,"level",{ALL:0,TRACE:20,DEBUG:30,INFO:40,WARN:50,ERROR:70,FATAL:90,OFF:100}),(0,_defineProperty2.default)(Logger,"DEBUG_LEVEL",Logger.LEVEL_OFF);var _typeCode=new WeakMap,_typeName=new WeakMap,_unique=new WeakMap,_exists=new WeakMap,_productive=new WeakMap,_rearrangement=new WeakMap,_duplicate=new WeakMap,ResultSeriesType=function(){function e(t,u,i,s,r,l,n){(0,_classCallCheck2.default)(this,e),_typeCode.set(this,{writable:!0,value:void 0}),_typeName.set(this,{writable:!0,value:void 0}),_unique.set(this,{writable:!0,value:void 0}),_exists.set(this,{writable:!0,value:void 0}),_productive.set(this,{writable:!0,value:void 0}),_rearrangement.set(this,{writable:!0,value:void 0}),_duplicate.set(this,{writable:!0,value:void 0}),(0,_classPrivateFieldSet2.default)(this,_typeCode,t),(0,_classPrivateFieldSet2.default)(this,_typeName,u),(0,_classPrivateFieldSet2.default)(this,_unique,i),(0,_classPrivateFieldSet2.default)(this,_exists,s),(0,_classPrivateFieldSet2.default)(this,_productive,r),(0,_classPrivateFieldSet2.default)(this,_rearrangement,l),(0,_classPrivateFieldSet2.default)(this,_duplicate,n)}return(0,_createClass2.default)(e,null,[{key:"contains",value:function(t){return Object.values(e.typeCode).map(function(e){return e.code}).includes(t)}},{key:"getByName",value:function(t){if(!t)throw new TypeError("undefined name value. Name parameter is required.");if(null==e.names[t])throw new TypeError("inexistent name in list.");var u=t.includes("unique"),i=t.includes("exists"),s=t.includes("productive"),r=t.includes("rearrangement"),l=t.includes("duplicate"),n=e.names[t];return new e(n.code,n.name,u,i,s,r,l)}},{key:"FAMILY",get:function(){return e.typeCode.FAMILY.code}},{key:"GENE",get:function(){return e.typeCode.GENE.code}},{key:"CALL",get:function(){return e.typeCode.CALL.code}},{key:"GENE_COUNT",get:function(){return e.typeCode.GENE_COUNT.code}},{key:"TOP_CLONES",get:function(){return e.typeCode.TOP_CLONES.code}},{key:"JUNCTION_LENGTH",get:function(){return e.typeCode.JUNCTION_LENGTH.code}},{key:"JUNCTION_AA_LENGTH",get:function(){return e.typeCode.JUNCTION_AA_LENGTH.code}}]),(0,_createClass2.default)(e,[{key:"toString",value:function(){var e=(0,_classPrivateFieldGet2.default)(this,_typeName);if((0,_classPrivateFieldGet2.default)(this,_exists)||(0,_classPrivateFieldGet2.default)(this,_productive)||(0,_classPrivateFieldGet2.default)(this,_unique)||(0,_classPrivateFieldGet2.default)(this,_rearrangement)||(0,_classPrivateFieldGet2.default)(this,_duplicate)){var t=!0;e+="[",(0,_classPrivateFieldGet2.default)(this,_exists)&&(e+="exists",t=!1),(0,_classPrivateFieldGet2.default)(this,_unique)&&(t||(e+=", "),e+="unique",t=!1),(0,_classPrivateFieldGet2.default)(this,_productive)&&(t||(e+=", "),e+="productive",t=!1),(0,_classPrivateFieldGet2.default)(this,_rearrangement)&&(t||(e+=", "),e+="rearrangement",t=!1),(0,_classPrivateFieldGet2.default)(this,_duplicate)&&(t||(e+=", "),e+="duplicate",t=!1),e+="]"}return e}},{key:"typeCode",get:function(){return(0,_classPrivateFieldGet2.default)(this,_typeCode)}},{key:"typeName",get:function(){return(0,_classPrivateFieldGet2.default)(this,_typeName)}},{key:"unique",get:function(){return(0,_classPrivateFieldGet2.default)(this,_unique)}},{key:"exists",get:function(){return(0,_classPrivateFieldGet2.default)(this,_exists)}},{key:"productive",get:function(){return(0,_classPrivateFieldGet2.default)(this,_productive)}},{key:"rearrangement",get:function(){return(0,_classPrivateFieldGet2.default)(this,_rearrangement)}},{key:"duplicate",get:function(){return(0,_classPrivateFieldGet2.default)(this,_duplicate)}}]),e}();exports.ResultSeriesType=ResultSeriesType,(0,_defineProperty2.default)(ResultSeriesType,"typeCode",{FAMILY:{code:"f",name:"Subgroup"},GENE:{code:"g",name:"Gene"},CALL:{code:"c",name:"Allele"},GENE_COUNT:{code:"gc",name:"Gene Count"},TOP_CLONES:{code:"tc",name:"Top Clones"},JUNCTION_LENGTH:{code:"jl",name:"Junction Length"},JUNCTION_AA_LENGTH:{code:"jal",name:"Junction aa Length"}}),(0,_defineProperty2.default)(ResultSeriesType,"names",{v_call_unique:ResultSeriesType.typeCode.CALL,d_call_unique:ResultSeriesType.typeCode.CALL,j_call_unique:ResultSeriesType.typeCode.CALL,c_call_unique:ResultSeriesType.typeCode.CALL,v_call_unique_productive:ResultSeriesType.typeCode.CALL,d_call_unique_productive:ResultSeriesType.typeCode.CALL,j_call_unique_productive:ResultSeriesType.typeCode.CALL,c_call_unique_productive:ResultSeriesType.typeCode.CALL,v_call_exists:ResultSeriesType.typeCode.CALL,d_call_exists:ResultSeriesType.typeCode.CALL,j_call_exists:ResultSeriesType.typeCode.CALL,c_call_exists:ResultSeriesType.typeCode.CALL,v_call_exists_productive:ResultSeriesType.typeCode.CALL,d_call_exists_productive:ResultSeriesType.typeCode.CALL,j_call_exists_productive:ResultSeriesType.typeCode.CALL,c_call_exists_productive:ResultSeriesType.typeCode.CALL,v_gene_unique:ResultSeriesType.typeCode.GENE,d_gene_unique:ResultSeriesType.typeCode.GENE,j_gene_unique:ResultSeriesType.typeCode.GENE,c_gene_unique:ResultSeriesType.typeCode.GENE,v_gene_unique_productive:ResultSeriesType.typeCode.GENE,d_gene_unique_productive:ResultSeriesType.typeCode.GENE,j_gene_unique_productive:ResultSeriesType.typeCode.GENE,c_gene_unique_productive:ResultSeriesType.typeCode.GENE,v_gene_exists:ResultSeriesType.typeCode.GENE,d_gene_exists:ResultSeriesType.typeCode.GENE,j_gene_exists:ResultSeriesType.typeCode.GENE,c_gene_exists:ResultSeriesType.typeCode.GENE,v_gene_exists_productive:ResultSeriesType.typeCode.GENE,d_gene_exists_productive:ResultSeriesType.typeCode.GENE,j_gene_exists_productive:ResultSeriesType.typeCode.GENE,c_gene_exists_productive:ResultSeriesType.typeCode.GENE,v_subgroup_unique:ResultSeriesType.typeCode.FAMILY,d_subgroup_unique:ResultSeriesType.typeCode.FAMILY,j_subgroup_unique:ResultSeriesType.typeCode.FAMILY,c_subgroup_unique:ResultSeriesType.typeCode.FAMILY,v_subgroup_unique_productive:ResultSeriesType.typeCode.FAMILY,d_subgroup_unique_productive:ResultSeriesType.typeCode.FAMILY,j_subgroup_unique_productive:ResultSeriesType.typeCode.FAMILY,c_subgroup_unique_productive:ResultSeriesType.typeCode.FAMILY,v_subgroup_exists:ResultSeriesType.typeCode.FAMILY,d_subgroup_exists:ResultSeriesType.typeCode.FAMILY,j_subgroup_exists:ResultSeriesType.typeCode.FAMILY,c_subgroup_exists:ResultSeriesType.typeCode.FAMILY,v_subgroup_exists_productive:ResultSeriesType.typeCode.FAMILY,d_subgroup_exists_productive:ResultSeriesType.typeCode.FAMILY,j_subgroup_exists_productive:ResultSeriesType.typeCode.FAMILY,c_subgroup_exists_productive:ResultSeriesType.typeCode.FAMILY,top_clones:ResultSeriesType.typeCode.TOP_CLONES,junction_length:ResultSeriesType.typeCode.JUNCTION_LENGTH,junction_length_productive:ResultSeriesType.typeCode.JUNCTION_LENGTH,junction_aa_length:ResultSeriesType.typeCode.JUNCTION_AA_LENGTH,junction_aa_length_productive:ResultSeriesType.typeCode.JUNCTION_AA_LENGTH,rearrangement_count:ResultSeriesType.typeCode.GENE_COUNT,rearrangement_count_productive:ResultSeriesType.typeCode.GENE_COUNT,duplicate_count:ResultSeriesType.typeCode.GENE_COUNT,duplicate_count_productive:ResultSeriesType.typeCode.GENE_COUNT});var GeneType=function(){function e(){(0,_classCallCheck2.default)(this,e)}return(0,_createClass2.default)(e,null,[{key:"contains",value:function(t){return Object.values(e.genes).includes(t)}},{key:"V_GENE",get:function(){return e.genes.V_GENE}},{key:"D_GENE",get:function(){return e.genes.D_GENE}},{key:"J_GENE",get:function(){return e.genes.J_GENE}},{key:"C_GENE",get:function(){return e.genes.C_GENE}}]),e}();exports.GeneType=GeneType,(0,_defineProperty2.default)(GeneType,"genes",{V_GENE:"v",D_GENE:"d",J_GENE:"j",C_GENE:"c"});var DataType=function(){function e(){(0,_classCallCheck2.default)(this,e)}return(0,_createClass2.default)(e,null,[{key:"contains",value:function(t){return Object.values(e.types).includes(t)}},{key:"V_GENE_USAGE",get:function(){return e.types.V_GENE_USAGE}},{key:"D_GENE_USAGE",get:function(){return e.types.D_GENE_USAGE}},{key:"J_GENE_USAGE",get:function(){return e.types.J_GENE_USAGE}},{key:"C_GENE_USAGE",get:function(){return e.types.C_GENE_USAGE}},{key:"JUNCTION_LENGTH",get:function(){return e.types.JUNCTION_LENGTH}},{key:"CLONE_COUNT",get:function(){return e.types.CLONE_COUNT}},{key:"CLONE_COUNT_IMMUNEDB",get:function(){return e.types.CLONE_COUNT_IMMUNEDB}}]),e}();exports.DataType=DataType,(0,_defineProperty2.default)(DataType,"types",{V_GENE_USAGE:"VGeneUsage",D_GENE_USAGE:"DGeneUsage",J_GENE_USAGE:"JGeneUsage",C_GENE_USAGE:"CGeneUsage",JUNCTION_LENGTH:"JunctionLength",CLONE_COUNT:"CloneCount",CLONE_COUNT_IMMUNEDB:"CloneCountImmuneDB"});var Common=function(){function e(){(0,_classCallCheck2.default)(this,e)}return(0,_createClass2.default)(e,null,[{key:"makeid",value:function(e){for(var t="",u="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=u.length,s=0;s<e;s++)t+=u.charAt(Math.floor(Math.random()*i));return t}},{key:"roundTo",value:function(e,t){return+(Math.round(e+"e+"+t)+"e-"+t)}},{key:"quote",value:function(e){return"'"+e+"'"}},{key:"objectConstructor",get:function(){return{}.constructor}}]),e}();exports.Common=Common;var _logger=new WeakMap,_data=new WeakMap,DebugTimer=function(){function e(){(0,_classCallCheck2.default)(this,e),_logger.set(this,{writable:!0,value:void 0}),_data.set(this,{writable:!0,value:void 0}),(0,_classPrivateFieldSet2.default)(this,_data,{}),(0,_classPrivateFieldSet2.default)(this,_logger,new Logger("DebugTimer"))}return(0,_createClass2.default)(e,[{key:"start",value:function(e){(0,_classPrivateFieldGet2.default)(this,_data)[e]={start:Date.now()}}},{key:"end",value:function(e){(0,_classPrivateFieldGet2.default)(this,_data)[e].end=Date.now(),(0,_classPrivateFieldGet2.default)(this,_data)[e].total=(0,_classPrivateFieldGet2.default)(this,_data)[e].end-(0,_classPrivateFieldGet2.default)(this,_data)[e].start}},{key:"print",value:function(){for(var e="",t=0,u=Object.keys((0,_classPrivateFieldGet2.default)(this,_data));t<u.length;t++){var i=u[t];e+="".concat(i,": ").concat((0,_classPrivateFieldGet2.default)(this,_data)[i].total," ms \r\n")}return(0,_classPrivateFieldGet2.default)(this,_logger).info(e),e}},{key:"clean",value:function(){(0,_classPrivateFieldSet2.default)(this,_data,{})}}]),e}();exports.DebugTimer=DebugTimer;

},{"@babel/runtime/helpers/classCallCheck":2,"@babel/runtime/helpers/classPrivateFieldGet":3,"@babel/runtime/helpers/classPrivateFieldSet":4,"@babel/runtime/helpers/createClass":5,"@babel/runtime/helpers/defineProperty":6,"@babel/runtime/helpers/interopRequireDefault":9}],15:[function(require,module,exports){
"use strict";var _interopRequireDefault=require("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(exports,"__esModule",{value:!0}),exports.JGeneUsageDrilldownStatsParser=exports.GeneUsageDrilldownStatsParser=exports.GeneUsageStatsParser=exports.CountStatsParser=exports.JunctionLenghtStatsParser=exports.StatsParserConstants=void 0;var _assertThisInitialized2=_interopRequireDefault(require("@babel/runtime/helpers/assertThisInitialized")),_inherits2=_interopRequireDefault(require("@babel/runtime/helpers/inherits")),_possibleConstructorReturn2=_interopRequireDefault(require("@babel/runtime/helpers/possibleConstructorReturn")),_getPrototypeOf2=_interopRequireDefault(require("@babel/runtime/helpers/getPrototypeOf")),_classPrivateFieldGet2=_interopRequireDefault(require("@babel/runtime/helpers/classPrivateFieldGet")),_classPrivateFieldSet2=_interopRequireDefault(require("@babel/runtime/helpers/classPrivateFieldSet")),_classCallCheck2=_interopRequireDefault(require("@babel/runtime/helpers/classCallCheck")),_createClass2=_interopRequireDefault(require("@babel/runtime/helpers/createClass")),_defineProperty2=_interopRequireDefault(require("@babel/runtime/helpers/defineProperty")),_common=require("./common.js"),_properties=require("./properties.js"),_parser=require("./parser.js"),_series9=require("./series.js");function ownKeys(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),s.push.apply(s,r)}return s}function _objectSpread(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?ownKeys(Object(s),!0).forEach(function(t){(0,_defineProperty2.default)(e,t,s[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):ownKeys(Object(s)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))})}return e}function _createSuper(e){var t=_isNativeReflectConstruct();return function(){var s,r=(0,_getPrototypeOf2.default)(e);if(t){var a=(0,_getPrototypeOf2.default)(this).constructor;s=Reflect.construct(r,arguments,a)}else s=r.apply(this,arguments);return(0,_possibleConstructorReturn2.default)(this,s)}}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}var StatsParserConstants=function(){function e(){(0,_classCallCheck2.default)(this,e)}return(0,_createClass2.default)(e,null,[{key:"INFO",get:function(){return e.VOCABULARY.INFO}},{key:"MESSAGE",get:function(){return e.VOCABULARY.MESSAGE}},{key:"STATISTICS",get:function(){return e.VOCABULARY.STATISTICS}},{key:"STATISTICS_NAME",get:function(){return e.VOCABULARY.STATISTICS_NAME}},{key:"REPERTOIRES",get:function(){return e.VOCABULARY.REPERTOIRES}},{key:"REPERTOIRE_ID",get:function(){return e.VOCABULARY.REPERTOIRE_ID}},{key:"SAMPLE_PROCESSING_ID",get:function(){return e.VOCABULARY.SAMPLE_PROCESSING_ID}},{key:"DATA_PROCESSING_ID",get:function(){return e.VOCABULARY.DATA_PROCESSING_ID}},{key:"TOTAL",get:function(){return e.VOCABULARY.TOTAL}},{key:"DATA",get:function(){return e.VOCABULARY.DATA}},{key:"KEY",get:function(){return e.VOCABULARY.KEY}},{key:"VALUE",get:function(){return e.VOCABULARY.VALUE}},{key:"POSTFIX_FAMILY",get:function(){return e.VOCABULARY.POSTFIX_FAMILY}},{key:"POSTFIX_GENE",get:function(){return e.VOCABULARY.POSTFIX_GENE}},{key:"POSTFIX_CALL",get:function(){return e.VOCABULARY.POSTFIX_CALL}},{key:"SPLITER_GENE",get:function(){return e.VOCABULARY.SPLITER_GENE}},{key:"SPLITER_CALL",get:function(){return e.VOCABULARY.SPLITER_CALL}}]),e}();exports.StatsParserConstants=StatsParserConstants,(0,_defineProperty2.default)(StatsParserConstants,"VOCABULARY",{INFO:"Info",MESSAGE:"Result",STATISTICS:"statistics",STATISTICS_NAME:"statistic_name",REPERTOIRES:"repertoires",REPERTOIRE_ID:"repertoire_id",SAMPLE_PROCESSING_ID:"sample_processing_id",DATA_PROCESSING_ID:"data_processing_id",TOTAL:"total",DATA:"data",KEY:"key",VALUE:"count",POSTFIX_FAMILY:"_subgroup",POSTFIX_GENE:"_gene",POSTFIX_CALL:"_call",SPLITER_GENE:"-",SPLITER_CALL:"*"});var _logger=new WeakMap,_series=new WeakMap,_seriesByRepertoire=new WeakMap,_multipleSeries=new WeakMap,_parserProperties=new WeakMap,CountStatsParser=function(e){(0,_inherits2.default)(s,e);var t=_createSuper(s);function s(){var e;return(0,_classCallCheck2.default)(this,s),e=t.call(this),_logger.set((0,_assertThisInitialized2.default)(e),{writable:!0,value:void 0}),_series.set((0,_assertThisInitialized2.default)(e),{writable:!0,value:void 0}),_seriesByRepertoire.set((0,_assertThisInitialized2.default)(e),{writable:!0,value:void 0}),_multipleSeries.set((0,_assertThisInitialized2.default)(e),{writable:!0,value:void 0}),_parserProperties.set((0,_assertThisInitialized2.default)(e),{writable:!0,value:void 0}),(0,_classPrivateFieldSet2.default)((0,_assertThisInitialized2.default)(e),_logger,new _common.Logger("CountStatsParser")),(0,_classPrivateFieldGet2.default)((0,_assertThisInitialized2.default)(e),_logger).trace("Constructor."),(0,_classPrivateFieldSet2.default)((0,_assertThisInitialized2.default)(e),_multipleSeries,!1),(0,_classPrivateFieldSet2.default)((0,_assertThisInitialized2.default)(e),_series,[]),(0,_classPrivateFieldSet2.default)((0,_assertThisInitialized2.default)(e),_seriesByRepertoire,[]),(0,_classPrivateFieldSet2.default)((0,_assertThisInitialized2.default)(e),_parserProperties,void 0),e}return(0,_createClass2.default)(s,[{key:"getSeries",value:function(){return(0,_classPrivateFieldGet2.default)(this,_logger).debug("getting series."),(0,_classPrivateFieldGet2.default)(this,_series)}},{key:"isMultipleSeries",value:function(){return(0,_classPrivateFieldGet2.default)(this,_multipleSeries)}},{key:"_initializeRepertoire",value:function(e){(0,_classPrivateFieldGet2.default)(this,_logger).debug("Initializing repertoire "+e),(0,_classPrivateFieldGet2.default)(this,_seriesByRepertoire)[e]||((0,_classPrivateFieldGet2.default)(this,_seriesByRepertoire)[e]=[])}},{key:"preparse",value:function(e){(0,_classPrivateFieldGet2.default)(this,_logger).trace("preparse.")}},{key:"postparse",value:function(e){(0,_classPrivateFieldGet2.default)(this,_logger).trace("postparse."),e.updateWith((0,_classPrivateFieldGet2.default)(this,_parserProperties))}},{key:"onparse",value:function(e){var t=e.getData();(0,_classPrivateFieldGet2.default)(this,_logger).trace("parse");var s=new _common.DebugTimer;s.start("parse");var r=e.seriesColors,a=0,i=1,l=[];"string"==typeof t&&(t=JSON.parse(t));var n=new _properties.Properties,o=t[StatsParserConstants.MESSAGE],u=o.length;if((0,_classPrivateFieldGet2.default)(this,_logger).debug("Data Result length = "+u),u>1){if((0,_classPrivateFieldGet2.default)(this,_logger).debug("Representing "+u+" repertoires. Will need a 3D chart."),(0,_classPrivateFieldSet2.default)(this,_multipleSeries,!0),r.length<u)throw(0,_classPrivateFieldGet2.default)(this,_logger).error("Not enough colors set for the amount of repertoires. Please increase the number of colors in seriesColor array."),"Not enough colors set for the amount of repertoires. Please increase the number of colors in seriesColor array.";i=Math.floor((r.length-1)/(u-1))}for(var d=0;d<u;d++){var _=r[a];a+=i;var c=o[d],S=c[StatsParserConstants.REPERTOIRES],g=S[StatsParserConstants.REPERTOIRE_ID];if(c[StatsParserConstants.STATISTICS].length>0){this._initializeRepertoire(g);var f=c[StatsParserConstants.STATISTICS][0],p=f[StatsParserConstants.STATISTICS_NAME],P="rep".concat(g).concat(p),h=_common.ResultSeriesType.getByName(p);n.subtitle="lixo";for(var v="Repertoire ".concat(g),m=e.seriesName&&e.seriesName[d]||v,T=f[StatsParserConstants.TOTAL],y=(new _series9.ResultSeries).setRepertoireId(g).setSampleProcessingId(S[StatsParserConstants.SAMPLE_PROCESSING_ID]).setDataProcessingId(S[StatsParserConstants.DATA_PROCESSING_ID]).setId(P).setName(m).setFieldName(p).setColor(_).setType(h),I=y.data,C=0,R=0;R<f[StatsParserConstants.DATA].length;R++){var G=f[StatsParserConstants.DATA][R],F=G[StatsParserConstants.VALUE];C+=F;var b=(new _series9.ResultSeriesDataItem).setName(G[StatsParserConstants.KEY]).setY(F);I.push(b)}C!=T&&(0,_classPrivateFieldGet2.default)(this,_logger).error("Inconsistency between the statistics value for total "+p+" and the sun of the individual values ("+T+"/"+C+")."),e.sort&&I.sort(function(e,t){return e.name-t.name}),l.push(y)}}(0,_classPrivateFieldSet2.default)(this,_parserProperties,n),(0,_classPrivateFieldSet2.default)(this,_series,l),s.end("parse"),s.print()}}]),s}(_parser.Parser);exports.CountStatsParser=CountStatsParser;var _logger2=new WeakMap,_series2=new WeakMap,_seriesByRepertoire2=new WeakMap,_multipleSeries2=new WeakMap,JunctionLenghtStatsParser=function(e){(0,_inherits2.default)(s,e);var t=_createSuper(s);function s(){var e;return(0,_classCallCheck2.default)(this,s),e=t.call(this),_logger2.set((0,_assertThisInitialized2.default)(e),{writable:!0,value:void 0}),_series2.set((0,_assertThisInitialized2.default)(e),{writable:!0,value:void 0}),_seriesByRepertoire2.set((0,_assertThisInitialized2.default)(e),{writable:!0,value:void 0}),_multipleSeries2.set((0,_assertThisInitialized2.default)(e),{writable:!0,value:void 0}),(0,_classPrivateFieldSet2.default)((0,_assertThisInitialized2.default)(e),_logger2,new _common.Logger("JunctionLenghtParser")),(0,_classPrivateFieldGet2.default)((0,_assertThisInitialized2.default)(e),_logger2).trace("Constructor."),(0,_classPrivateFieldSet2.default)((0,_assertThisInitialized2.default)(e),_multipleSeries2,!1),(0,_classPrivateFieldSet2.default)((0,_assertThisInitialized2.default)(e),_series2,[]),(0,_classPrivateFieldSet2.default)((0,_assertThisInitialized2.default)(e),_seriesByRepertoire2,[]),e}return(0,_createClass2.default)(s,[{key:"getSeries",value:function(){return(0,_classPrivateFieldGet2.default)(this,_logger2).debug("getting series."),(0,_classPrivateFieldGet2.default)(this,_series2)}},{key:"isMultipleSeries",value:function(){return(0,_classPrivateFieldGet2.default)(this,_multipleSeries2)}},{key:"_initializeRepertoire",value:function(e){(0,_classPrivateFieldGet2.default)(this,_logger2).debug("Initializing repertoire "+e),(0,_classPrivateFieldGet2.default)(this,_seriesByRepertoire2)[e]||((0,_classPrivateFieldGet2.default)(this,_seriesByRepertoire2)[e]=[])}},{key:"preparse",value:function(e){(0,_classPrivateFieldGet2.default)(this,_logger2).trace("preparse.")}},{key:"postparse",value:function(e){(0,_classPrivateFieldGet2.default)(this,_logger2).trace("postparse.")}},{key:"onparse",value:function(e){var t=e.getData();(0,_classPrivateFieldGet2.default)(this,_logger2).trace("parse");var s=new _common.DebugTimer;s.start("parse");var r=["rgb(0,66,157)","rgb(43,87,167)","rgb(66,108,176)","rgb(86,129,185)","rgb(105,151,194)","rgb(125,174,202)","rgb(147,196,210)","rgb(171,218,217)","rgb(202,239,223)","rgb(255,226,202)","rgb(255,196,180)","rgb(255,165,158)","rgb(249,134,137)","rgb(237,105,118)","rgb(221,76,101)","rgb(202,47,85)","rgb(177,19,70)","rgb(147,0,58)"],a=0,i=1,l=[];"string"==typeof t&&(t=JSON.parse(t));var n=new _properties.Properties,o=t[StatsParserConstants.MESSAGE],u=o.length;if((0,_classPrivateFieldGet2.default)(this,_logger2).debug("Data Result length = "+u),u>1){if((0,_classPrivateFieldGet2.default)(this,_logger2).debug("Representing "+u+" repertoires. Will need a 3D chart."),(0,_classPrivateFieldSet2.default)(this,_multipleSeries2,!0),r.length<u)throw(0,_classPrivateFieldGet2.default)(this,_logger2).error("Not enough colors set for the amount of repertoires. Please increase the number of colors in seriesColor array."),"Not enough colors set for the amount of repertoires. Please increase the number of colors in seriesColor array.";i=Math.floor((r.length-1)/(u-1))}for(var d=0;d<u;d++){var _=r[a];a+=i;var c=o[d],S=c[StatsParserConstants.REPERTOIRES],g=S[StatsParserConstants.REPERTOIRE_ID];if(c[StatsParserConstants.STATISTICS].length>0){this._initializeRepertoire(g);var f=c[StatsParserConstants.STATISTICS][0],p=f[StatsParserConstants.STATISTICS_NAME],P="rep".concat(g).concat(p),h=_common.ResultSeriesType.getByName(p);n.subtitle=h.toString();for(var v="Repertoire ".concat(g),m=e.seriesName&&e.seriesName[d]||v,T=f[StatsParserConstants.TOTAL],y=(new _series9.ResultSeries).setRepertoireId(g).setSampleProcessingId(S[StatsParserConstants.SAMPLE_PROCESSING_ID]).setDataProcessingId(S[StatsParserConstants.DATA_PROCESSING_ID]).setId(P).setName(m).setFieldName(p).setColor(_).setType(h),I=y.data,C=0,R=0;R<f[StatsParserConstants.DATA].length;R++){var G=f[StatsParserConstants.DATA][R],F=G[StatsParserConstants.VALUE];C+=F;var b=(new _series9.ResultSeriesDataItem).setName(G[StatsParserConstants.KEY]).setY(F/T);I.push(b)}C!=T&&(0,_classPrivateFieldGet2.default)(this,_logger2).error("Inconsistency between the statistics value for total "+p+" and the sun of the individual values ("+T+"/"+C+")."),e.sort&&I.sort(function(e,t){return e.name-t.name}),l.push(y)}}(0,_classPrivateFieldSet2.default)(this,_series2,l),s.end("parse"),s.print()}}]),s}(_parser.Parser);exports.JunctionLenghtStatsParser=JunctionLenghtStatsParser;var _logger3=new WeakMap,_geneType=new WeakMap,_multipleSeries3=new WeakMap,_series3=new WeakMap,_drilldownSeries=new WeakMap,_seriesByRepertoire3=new WeakMap,_geneSeriesByFamily=new WeakMap,_cellSeriesByGene=new WeakMap,_familySeriesByRepertoire=new WeakMap,_geneSeriesByRepertoire=new WeakMap,_cellSeriesByRepertoire=new WeakMap,GeneUsageDrilldownStatsParser=function(e){(0,_inherits2.default)(s,e);var t=_createSuper(s);function s(e){var r;if((0,_classCallCheck2.default)(this,s),r=t.call(this),_logger3.set((0,_assertThisInitialized2.default)(r),{writable:!0,value:void 0}),_geneType.set((0,_assertThisInitialized2.default)(r),{writable:!0,value:void 0}),_multipleSeries3.set((0,_assertThisInitialized2.default)(r),{writable:!0,value:void 0}),_series3.set((0,_assertThisInitialized2.default)(r),{writable:!0,value:void 0}),_drilldownSeries.set((0,_assertThisInitialized2.default)(r),{writable:!0,value:void 0}),_seriesByRepertoire3.set((0,_assertThisInitialized2.default)(r),{writable:!0,value:void 0}),_geneSeriesByFamily.set((0,_assertThisInitialized2.default)(r),{writable:!0,value:void 0}),_cellSeriesByGene.set((0,_assertThisInitialized2.default)(r),{writable:!0,value:void 0}),_familySeriesByRepertoire.set((0,_assertThisInitialized2.default)(r),{writable:!0,value:void 0}),_geneSeriesByRepertoire.set((0,_assertThisInitialized2.default)(r),{writable:!0,value:void 0}),_cellSeriesByRepertoire.set((0,_assertThisInitialized2.default)(r),{writable:!0,value:void 0}),(0,_classPrivateFieldSet2.default)((0,_assertThisInitialized2.default)(r),_logger3,new _common.Logger("GeneUsageDrilldownStatsParser")),(0,_classPrivateFieldGet2.default)((0,_assertThisInitialized2.default)(r),_logger3).debug("Constructor."),!_common.GeneType.contains(e))throw logger.fatal("type must exist in GeneType.genes"),"type must exist in GeneType.genes";return(0,_classPrivateFieldSet2.default)((0,_assertThisInitialized2.default)(r),_geneType,e),(0,_classPrivateFieldSet2.default)((0,_assertThisInitialized2.default)(r),_multipleSeries3,!1),(0,_classPrivateFieldSet2.default)((0,_assertThisInitialized2.default)(r),_series3,[]),(0,_classPrivateFieldSet2.default)((0,_assertThisInitialized2.default)(r),_drilldownSeries,{series:[]}),(0,_classPrivateFieldSet2.default)((0,_assertThisInitialized2.default)(r),_seriesByRepertoire3,{}),(0,_classPrivateFieldSet2.default)((0,_assertThisInitialized2.default)(r),_geneSeriesByFamily,{}),(0,_classPrivateFieldSet2.default)((0,_assertThisInitialized2.default)(r),_cellSeriesByGene,{}),(0,_classPrivateFieldSet2.default)((0,_assertThisInitialized2.default)(r),_familySeriesByRepertoire,{}),(0,_classPrivateFieldSet2.default)((0,_assertThisInitialized2.default)(r),_geneSeriesByRepertoire,{}),(0,_classPrivateFieldSet2.default)((0,_assertThisInitialized2.default)(r),_cellSeriesByRepertoire,{}),r}return(0,_createClass2.default)(s,[{key:"getSeries",value:function(){return(0,_classPrivateFieldGet2.default)(this,_logger3).debug("getting series."),(0,_classPrivateFieldGet2.default)(this,_series3)}},{key:"isMultipleSeries",value:function(){return this.multipleSeries}},{key:"_initializeRepertoire",value:function(e){(0,_classPrivateFieldGet2.default)(this,_logger3).debug("Initializing repertoire "+e),(0,_classPrivateFieldGet2.default)(this,_seriesByRepertoire3)[e]||((0,_classPrivateFieldGet2.default)(this,_seriesByRepertoire3)[e]=[]),(0,_classPrivateFieldGet2.default)(this,_familySeriesByRepertoire)[e]||((0,_classPrivateFieldGet2.default)(this,_familySeriesByRepertoire)[e]=[]),(0,_classPrivateFieldGet2.default)(this,_geneSeriesByRepertoire)[e]||((0,_classPrivateFieldGet2.default)(this,_geneSeriesByRepertoire)[e]=[]),(0,_classPrivateFieldGet2.default)(this,_cellSeriesByRepertoire)[e]||((0,_classPrivateFieldGet2.default)(this,_cellSeriesByRepertoire)[e]=[])}},{key:"_initializeGeneGroup",value:function(e,t){(0,_classPrivateFieldGet2.default)(this,_geneSeriesByFamily)[t]||((0,_classPrivateFieldGet2.default)(this,_logger3).debug("Initializing #_geneSeriesByFamily["+t+"]."),(0,_classPrivateFieldGet2.default)(this,_geneSeriesByFamily)[t]=[])}},{key:"_initializeCellGroup",value:function(e,t){(0,_classPrivateFieldGet2.default)(this,_cellSeriesByGene)[t]||((0,_classPrivateFieldGet2.default)(this,_logger3).debug("Initializing #_cellSeriesByGene["+t+"]."),(0,_classPrivateFieldGet2.default)(this,_cellSeriesByGene)[t]=[])}},{key:"_addToStructures",value:function(e){if(!(e instanceof _series9.ResultSeries))throw"series type must be ResultSeries";var t=e.repertoireId,s=e.type,r=e.parentName;switch(s.typeCode){case _common.ResultSeriesType.FAMILY:(0,_classPrivateFieldGet2.default)(this,_familySeriesByRepertoire)[t].push(e);break;case _common.ResultSeriesType.GENE:(0,_classPrivateFieldGet2.default)(this,_logger3).debug("Received a new series of Genes. Repertoire:"+t+" , parentName:"+r),r?((0,_classPrivateFieldGet2.default)(this,_logger3).debug("Adding to #_geneSeriesByFamily["+r+"] :"),(0,_classPrivateFieldGet2.default)(this,_geneSeriesByFamily)[r].push(e),(0,_classPrivateFieldGet2.default)(this,_logger3).debug((0,_classPrivateFieldGet2.default)(this,_geneSeriesByFamily)[r])):(0,_classPrivateFieldGet2.default)(this,_geneSeriesByRepertoire)[t].push(e);break;case _common.ResultSeriesType.CALL:r?((0,_classPrivateFieldGet2.default)(this,_logger3).debug("Adding to #_cellSeriesByGene["+r+"] :"),(0,_classPrivateFieldGet2.default)(this,_cellSeriesByGene)[r].push(e),(0,_classPrivateFieldGet2.default)(this,_logger3).debug((0,_classPrivateFieldGet2.default)(this,_cellSeriesByGene)[r])):(0,_classPrivateFieldGet2.default)(this,_cellSeriesByRepertoire)[t].push(e);break;default:throw"Trying to process an incompatible Result Series type in GeneUsageDrilldownStatsParser."}(0,_classPrivateFieldGet2.default)(this,_seriesByRepertoire3)[t].push(e)}},{key:"preparse",value:function(e){(0,_classPrivateFieldGet2.default)(this,_logger3).trace("preparse.")}},{key:"postparse",value:function(e){(0,_classPrivateFieldGet2.default)(this,_logger3).trace("postparse.")}},{key:"onparse",value:function(e){var t=e.getData();(0,_classPrivateFieldGet2.default)(this,_logger3).trace("parse");var s=new _common.DebugTimer;s.start("parse");var r,a,i,l=["rgb(0,66,157)","rgb(43,87,167)","rgb(66,108,176)","rgb(86,129,185)","rgb(105,151,194)","rgb(125,174,202)","rgb(147,196,210)","rgb(171,218,217)","rgb(202,239,223)","rgb(255,226,202)","rgb(255,196,180)","rgb(255,165,158)","rgb(249,134,137)","rgb(237,105,118)","rgb(221,76,101)","rgb(202,47,85)","rgb(177,19,70)","rgb(147,0,58)"],n=0,o=1,u=((0,_classPrivateFieldGet2.default)(this,_geneType),[]),d=[],_=[],c=[],S=StatsParserConstants.POSTFIX_FAMILY,g=StatsParserConstants.POSTFIX_GENE,f=StatsParserConstants.SPLITER_GENE,p=StatsParserConstants.POSTFIX_CALL,P=StatsParserConstants.SPLITER_CALL;"string"==typeof t&&(t=JSON.parse(t));var h=t[StatsParserConstants.MESSAGE],v=h.length;if((0,_classPrivateFieldGet2.default)(this,_logger3).debug("Data Result length = "+v),v>1){if((0,_classPrivateFieldGet2.default)(this,_logger3).debug("Representing "+v+" repertoires. Will need a 3D chart."),(0,_classPrivateFieldSet2.default)(this,_multipleSeries3,!0),l.length<v)throw(0,_classPrivateFieldGet2.default)(this,_logger3).error("Not enough colors set for the amount of repertoires. Please increase the number of colors in seriesColor array."),"Not enough colors set for the amount of repertoires. Please increase the number of colors in seriesColor array.";o=Math.floor((l.length-1)/(v-1))}for(var m=0;m<v;m++){var T=l[n];n+=o;var y=h[m],I=y[StatsParserConstants.REPERTOIRES],C=I[StatsParserConstants.REPERTOIRE_ID];this._initializeRepertoire(C);for(var R=0;R<y[StatsParserConstants.STATISTICS].length;R++){var G=y[StatsParserConstants.STATISTICS][R],F=G[StatsParserConstants.STATISTICS_NAME],b=_common.ResultSeriesType.getByName(F).typeCode;b==_common.ResultSeriesType.FAMILY?r=G:b==_common.ResultSeriesType.GENE?a=G:b==_common.ResultSeriesType.CALL&&(i=G)}if(!r||!a||!i)throw"Incomplete structure for Drilldown. A structure of subgroup > gene > cell is required.";if(r){for(var A=r[StatsParserConstants.STATISTICS_NAME],w="rep".concat(C).concat(S),E=_common.ResultSeriesType.getByName(A),N="Repertoire ".concat(C).concat(" ").concat(E.toString()),D=e.seriesName&&e.seriesName[m]||N,O=(r[StatsParserConstants.TOTAL],(new _series9.ResultSeries).setRepertoireId(C).setSampleProcessingId(I[StatsParserConstants.SAMPLE_PROCESSING_ID]).setDataProcessingId(I[StatsParserConstants.DATA_PROCESSING_ID]).setId(w).setName(D).setFieldName(A).setColor(T).setType(E)),k=O.data,B=0;B<r[StatsParserConstants.DATA].length;B++){var L=r[StatsParserConstants.DATA][B],z=L[StatsParserConstants.KEY]||"",M=z.concat(g);_.push(z),this._initializeGeneGroup(C,M);var U=(new _series9.ResultSeriesDataItem).setName(z).setY(L[StatsParserConstants.VALUE]).setDrilldown(M);k.push(U)}e.sort&&k.sort(function(e,t){return e.name.localeCompare(t.name)}),u.push(O),this._addToStructures(O)}if(a){for(var Y=a[StatsParserConstants.STATISTICS_NAME],W="rep".concat(C).concat(g),q=_common.ResultSeriesType.getByName(Y),V="Repertoire ".concat(C).concat(" ").concat(q.toString()),J=e.seriesName&&e.seriesName[m]||V,x=(new _series9.ResultSeries).setRepertoireId(C).setSampleProcessingId(I[StatsParserConstants.SAMPLE_PROCESSING_ID]).setDataProcessingId(I[StatsParserConstants.DATA_PROCESSING_ID]).setId(W).setName(J).setFieldName(Y).setColor(T).setType(q),j=x.data,K=new Object,X=0;X<_.length;X++){var H=_[X].concat(g),Q=_[X].concat(" ").concat(q.toString()),Z=e.seriesName&&e.seriesName[m]||Q;K[_[X]]=(new _series9.ResultSeries).setRepertoireId(C).setSampleProcessingId(I[StatsParserConstants.SAMPLE_PROCESSING_ID]).setDataProcessingId(I[StatsParserConstants.DATA_PROCESSING_ID]).setId(H).setName(Z).setFieldName(Y).setType(q).setColor(T).setParentName(H)}for(var $=0;$<a[StatsParserConstants.DATA].length;$++){var ee=a[StatsParserConstants.DATA][$],te=ee[StatsParserConstants.KEY]||"",se=te.concat(p);c.push(te),this._initializeCellGroup(C,se);var re=te.indexOf(f);-1==re&&(re=te.length);var ae=te.substring(0,re);if(-1==re&&te){var ie="Error in parsed document structure. Received an element of type "+q.typeName+" with incompatible name "+_common.Common.quote(te);throw(0,_classPrivateFieldGet2.default)(this,_logger3).fatal(ie),ie}var le=(new _series9.ResultSeriesDataItem).setName(te).setY(ee[StatsParserConstants.VALUE]).setDrilldown(se);j.push(le),K[ae].data.push(le)}for(var ne in e.sort&&j.sort(function(e,t){return e.name.localeCompare(t.name)}),(0,_classPrivateFieldGet2.default)(this,_logger3).trace("All Gene data series for Repertoire "+C+": "),(0,_classPrivateFieldGet2.default)(this,_logger3).trace(JSON.stringify(x)),this._addToStructures(x),(0,_classPrivateFieldGet2.default)(this,_logger3).trace("All series for gene data grouped by family : "),(0,_classPrivateFieldGet2.default)(this,_logger3).trace(JSON.stringify(K)),K){var oe=K[ne];e.sort&&oe.data.sort(function(e,t){return e.name.localeCompare(t.name)}),this._addToStructures(oe),d.push(oe.asHighchartSeries())}}if(i){for(var ue=i[StatsParserConstants.STATISTICS_NAME],de="rep".concat(C).concat(p),_e=_common.ResultSeriesType.getByName(ue),ce="Repertoire ".concat(C).concat(" ").concat(_e.toString()),Se=e.seriesName&&e.seriesName[m]||ce,ge=(new _series9.ResultSeries).setRepertoireId(C).setSampleProcessingId(I[StatsParserConstants.SAMPLE_PROCESSING_ID]).setDataProcessingId(I[StatsParserConstants.DATA_PROCESSING_ID]).setId(de).setName(Se).setFieldName(ue).setColor(T).setType(_e).data,fe=new Object,pe=0;pe<c.length;pe++){var Pe=c[pe].concat(p),he=c[pe].concat(" ").concat(_e.toString()),ve=e.seriesName&&e.seriesName[m]||he;fe[c[pe]]=(new _series9.ResultSeries).setRepertoireId(C).setSampleProcessingId(I[StatsParserConstants.SAMPLE_PROCESSING_ID]).setDataProcessingId(I[StatsParserConstants.DATA_PROCESSING_ID]).setId(Pe).setName(ve).setFieldName(ue).setType(_e).setColor(T).setParentName(Pe)}for(var me=0;me<i[StatsParserConstants.DATA].length;me++){var Te=i[StatsParserConstants.DATA][me],ye=Te[StatsParserConstants.KEY]||"",Ie=ye.indexOf(P);-1==Ie&&(Ie=ye.length);var Ce=ye.substring(0,Ie),Re=(new _series9.ResultSeriesDataItem).setName(ye).setY(Te[StatsParserConstants.VALUE]);ge.push(Re),fe[Ce].data.push(Re)}for(var Ge in fe){var Fe=fe[Ge];this._addToStructures(Fe),d.push(Fe.asHighchartSeries())}}}(0,_classPrivateFieldSet2.default)(this,_series3,u),(0,_classPrivateFieldSet2.default)(this,_drilldownSeries,{series:d}),s.end("parse"),s.print()}},{key:"drilldown",get:function(){return!0}},{key:"geneType",get:function(){return(0,_classPrivateFieldGet2.default)(this,_geneType)}},{key:"drilldownSeries",get:function(){if((0,_classPrivateFieldGet2.default)(this,_logger3).debug("getting drilldown series."),!this.drilldown||this.multipleSeries){var e={series:[]};return(0,_classPrivateFieldGet2.default)(this,_logger3).trace(JSON.stringify(e)),e}return(0,_classPrivateFieldGet2.default)(this,_logger3).trace(JSON.stringify((0,_classPrivateFieldGet2.default)(this,_drilldownSeries))),(0,_classPrivateFieldGet2.default)(this,_drilldownSeries)}},{key:"multipleSeries",get:function(){return(0,_classPrivateFieldGet2.default)(this,_multipleSeries3)}},{key:"drillupSeriesEvent",get:function(){if(this.drilldown){var e=(0,_classPrivateFieldGet2.default)(this,_logger3);return(0,_classPrivateFieldGet2.default)(this,_multipleSeries3)?(e.debug("retrieving multiple series drillup event"),function(t){e.trace(t.toString())}):(e.debug("retrieving single series drillup event"),function(t){e.trace(t.toString())})}}},{key:"drilldownSeriesEvent",get:function(){if((0,_classPrivateFieldGet2.default)(this,_logger3).debug("requested drilldown event"),this.drilldown){var e=(0,_classPrivateFieldGet2.default)(this,_logger3);if(!(0,_classPrivateFieldGet2.default)(this,_multipleSeries3))return(0,_classPrivateFieldGet2.default)(this,_logger3).debug("retrieving single series drilldown event"),function(t){this.setTitle(null,{text:t.point.name}),e.trace(t.toString())};var t=_objectSpread(_objectSpread({},(0,_classPrivateFieldGet2.default)(this,_geneSeriesByFamily)),(0,_classPrivateFieldGet2.default)(this,_cellSeriesByGene));return function(s){var r=_common.Common.makeid(12);if(e.trace(r+", "+s.toString()),s.seriesOptions)this.setTitle(null,{text:s.seriesOptions.name});else{this.setTitle(null,{text:s.point.name}),e.debug(r+", Gathering drilldown series for "+s.point.drilldown);for(var a=0;a<t[s.point.drilldown].length;a++){var i=t[s.point.drilldown][a];e.debug(r+", Found series"),e.trace(JSON.stringify(i)),this.addSingleSeriesAsDrilldown(s.point,i.asHighchartSeries())}e.trace(JSON.stringify(this.drilldown)),this.applyDrilldown()}}}}}]),s}(_parser.DrilldownParser);exports.GeneUsageDrilldownStatsParser=GeneUsageDrilldownStatsParser;var _logger4=new WeakMap,_multipleSeries4=new WeakMap,_series6=new WeakMap,_seriesByRepertoire4=new WeakMap,GeneUsageStatsParser=function(e){(0,_inherits2.default)(s,e);var t=_createSuper(s);function s(){var e;return(0,_classCallCheck2.default)(this,s),e=t.call(this),_logger4.set((0,_assertThisInitialized2.default)(e),{writable:!0,value:void 0}),_multipleSeries4.set((0,_assertThisInitialized2.default)(e),{writable:!0,value:void 0}),_series6.set((0,_assertThisInitialized2.default)(e),{writable:!0,value:void 0}),_seriesByRepertoire4.set((0,_assertThisInitialized2.default)(e),{writable:!0,value:void 0}),(0,_classPrivateFieldSet2.default)((0,_assertThisInitialized2.default)(e),_logger4,new _common.Logger("GeneUsageStatsParser")),(0,_classPrivateFieldGet2.default)((0,_assertThisInitialized2.default)(e),_logger4).debug("Constructor."),(0,_classPrivateFieldSet2.default)((0,_assertThisInitialized2.default)(e),_multipleSeries4,!1),(0,_classPrivateFieldSet2.default)((0,_assertThisInitialized2.default)(e),_series6,[]),(0,_classPrivateFieldSet2.default)((0,_assertThisInitialized2.default)(e),_seriesByRepertoire4,[]),e}return(0,_createClass2.default)(s,[{key:"getSeries",value:function(){return(0,_classPrivateFieldGet2.default)(this,_logger4).debug("getting series."),(0,_classPrivateFieldGet2.default)(this,_series6)}},{key:"isMultipleSeries",value:function(){return this.multipleSeries}},{key:"_initializeRepertoire",value:function(e){(0,_classPrivateFieldGet2.default)(this,_logger4).debug("Initializing repertoire "+e),(0,_classPrivateFieldGet2.default)(this,_seriesByRepertoire4)[e]||((0,_classPrivateFieldGet2.default)(this,_seriesByRepertoire4)[e]=[])}},{key:"preparse",value:function(e){(0,_classPrivateFieldGet2.default)(this,_logger4).trace("preparse.")}},{key:"postparse",value:function(e){(0,_classPrivateFieldGet2.default)(this,_logger4).trace("postparse.")}},{key:"onparse",value:function(e){var t=e.getData();(0,_classPrivateFieldGet2.default)(this,_logger4).trace("parse");var s=new _common.DebugTimer;s.start("parse");var r=e.seriesColors,a=0,i=1,l=[];"string"==typeof t&&(t=JSON.parse(t));var n=t[StatsParserConstants.MESSAGE],o=n.length;if((0,_classPrivateFieldGet2.default)(this,_logger4).debug("Data Result length = "+o),o>1){if((0,_classPrivateFieldGet2.default)(this,_logger4).debug("Representing "+o+" repertoires. Will need a 3D chart."),(0,_classPrivateFieldSet2.default)(this,_multipleSeries4,!0),r.length<o)throw(0,_classPrivateFieldGet2.default)(this,_logger4).error("Not enough colors set for the amount of repertoires. Please increase the number of colors in seriesColor array."),new TypeError("Not enough colors set for the amount of repertoires. Please increase the number of colors in seriesColor array.");i=Math.floor((r.length-1)/(o-1))}for(var u=0;u<o;u++){var d=r[a];a+=i;var _=n[u],c=_[StatsParserConstants.REPERTOIRES],S=c[StatsParserConstants.REPERTOIRE_ID];if(_[StatsParserConstants.STATISTICS].length>0){this._initializeRepertoire(S);for(var g=_[StatsParserConstants.STATISTICS][0],f=g[StatsParserConstants.STATISTICS_NAME],p="rep".concat(S).concat(f),P=_common.ResultSeriesType.getByName(f),h="Repertoire ".concat(S).concat(" ").concat(P.toString()),v=e.seriesName&&e.seriesName[u]||h,m=(g[StatsParserConstants.TOTAL],(new _series9.ResultSeries).setRepertoireId(S).setSampleProcessingId(c[StatsParserConstants.SAMPLE_PROCESSING_ID]).setDataProcessingId(c[StatsParserConstants.DATA_PROCESSING_ID]).setId(p).setName(v).setFieldName(f).setColor(d).setType(P)),T=m.data,y=0;y<g[StatsParserConstants.DATA].length;y++){var I=g[StatsParserConstants.DATA][y],C=(new _series9.ResultSeriesDataItem).setName(I[StatsParserConstants.KEY]).setY(I[StatsParserConstants.VALUE]);T.push(C)}e.sort&&T.sort(function(e,t){return e.name.localeCompare(t.name)}),l.push(m)}}(0,_classPrivateFieldSet2.default)(this,_series6,l),s.end("parse"),s.print()}},{key:"drilldown",get:function(){return!1}},{key:"drilldownSeries",get:function(){(0,_classPrivateFieldGet2.default)(this,_logger4).debug("getting drilldown series.");var e={series:[]};return(0,_classPrivateFieldGet2.default)(this,_logger4).trace(JSON.stringify(e)),e}},{key:"multipleSeries",get:function(){return(0,_classPrivateFieldGet2.default)(this,_multipleSeries4)}},{key:"drillupSeriesEvent",get:function(){}},{key:"drilldownSeriesEvent",get:function(){(0,_classPrivateFieldGet2.default)(this,_logger4).debug("requested drilldown event")}}]),s}(_parser.Parser);exports.GeneUsageStatsParser=GeneUsageStatsParser;var _logger5=new WeakMap,_geneType2=new WeakMap,_multipleSeries5=new WeakMap,_series7=new WeakMap,_drilldownSeries2=new WeakMap,_seriesByRepertoire5=new WeakMap,_cellSeriesByGene2=new WeakMap,_geneSeriesByRepertoire2=new WeakMap,_cellSeriesByRepertoire2=new WeakMap,JGeneUsageDrilldownStatsParser=function(e){(0,_inherits2.default)(s,e);var t=_createSuper(s);function s(e){var r;if((0,_classCallCheck2.default)(this,s),r=t.call(this),_logger5.set((0,_assertThisInitialized2.default)(r),{writable:!0,value:void 0}),_geneType2.set((0,_assertThisInitialized2.default)(r),{writable:!0,value:void 0}),_multipleSeries5.set((0,_assertThisInitialized2.default)(r),{writable:!0,value:void 0}),_series7.set((0,_assertThisInitialized2.default)(r),{writable:!0,value:void 0}),_drilldownSeries2.set((0,_assertThisInitialized2.default)(r),{writable:!0,value:void 0}),_seriesByRepertoire5.set((0,_assertThisInitialized2.default)(r),{writable:!0,value:void 0}),_cellSeriesByGene2.set((0,_assertThisInitialized2.default)(r),{writable:!0,value:void 0}),_geneSeriesByRepertoire2.set((0,_assertThisInitialized2.default)(r),{writable:!0,value:void 0}),_cellSeriesByRepertoire2.set((0,_assertThisInitialized2.default)(r),{writable:!0,value:void 0}),(0,_classPrivateFieldSet2.default)((0,_assertThisInitialized2.default)(r),_logger5,new _common.Logger("GeneUsageDrilldownStatsParser")),(0,_classPrivateFieldGet2.default)((0,_assertThisInitialized2.default)(r),_logger5).debug("Constructor."),e!=_common.GeneType.J_GENE)throw logger.fatal("type must be GeneType.J_TYPE"),"type must be GeneType.J_TYPE";return(0,_classPrivateFieldSet2.default)((0,_assertThisInitialized2.default)(r),_geneType2,e),(0,_classPrivateFieldSet2.default)((0,_assertThisInitialized2.default)(r),_multipleSeries5,!1),(0,_classPrivateFieldSet2.default)((0,_assertThisInitialized2.default)(r),_series7,[]),(0,_classPrivateFieldSet2.default)((0,_assertThisInitialized2.default)(r),_drilldownSeries2,{series:[]}),(0,_classPrivateFieldSet2.default)((0,_assertThisInitialized2.default)(r),_seriesByRepertoire5,{}),(0,_classPrivateFieldSet2.default)((0,_assertThisInitialized2.default)(r),_cellSeriesByGene2,{}),(0,_classPrivateFieldSet2.default)((0,_assertThisInitialized2.default)(r),_geneSeriesByRepertoire2,{}),(0,_classPrivateFieldSet2.default)((0,_assertThisInitialized2.default)(r),_cellSeriesByRepertoire2,{}),r}return(0,_createClass2.default)(s,[{key:"getSeries",value:function(){return(0,_classPrivateFieldGet2.default)(this,_logger5).debug("getting series."),(0,_classPrivateFieldGet2.default)(this,_series7)}},{key:"isMultipleSeries",value:function(){return this.multipleSeries}},{key:"_initializeRepertoire",value:function(e){(0,_classPrivateFieldGet2.default)(this,_logger5).debug("Initializing repertoire "+e),(0,_classPrivateFieldGet2.default)(this,_seriesByRepertoire5)[e]||((0,_classPrivateFieldGet2.default)(this,_seriesByRepertoire5)[e]=[]),(0,_classPrivateFieldGet2.default)(this,_geneSeriesByRepertoire2)[e]||((0,_classPrivateFieldGet2.default)(this,_geneSeriesByRepertoire2)[e]=[]),(0,_classPrivateFieldGet2.default)(this,_cellSeriesByRepertoire2)[e]||((0,_classPrivateFieldGet2.default)(this,_cellSeriesByRepertoire2)[e]=[])}},{key:"_initializeCellGroup",value:function(e,t){(0,_classPrivateFieldGet2.default)(this,_cellSeriesByGene2)[t]||((0,_classPrivateFieldGet2.default)(this,_logger5).debug("Initializing #_cellSeriesByGene["+t+"]."),(0,_classPrivateFieldGet2.default)(this,_cellSeriesByGene2)[t]=[])}},{key:"_addToStructures",value:function(e){if(!(e instanceof _series9.ResultSeries))throw"series type must be ResultSeries";var t=e.repertoireId,s=e.type,r=e.parentName;switch(s.typeCode){case _common.ResultSeriesType.GENE:(0,_classPrivateFieldGet2.default)(this,_geneSeriesByRepertoire2)[t].push(e);break;case _common.ResultSeriesType.CALL:r?((0,_classPrivateFieldGet2.default)(this,_logger5).debug("Adding to #_cellSeriesByGene["+r+"] :"),(0,_classPrivateFieldGet2.default)(this,_cellSeriesByGene2)[r].push(e),(0,_classPrivateFieldGet2.default)(this,_logger5).debug((0,_classPrivateFieldGet2.default)(this,_cellSeriesByGene2)[r])):(0,_classPrivateFieldGet2.default)(this,_cellSeriesByRepertoire2)[t].push(e);break;default:throw"Trying to process an incompatible Result Series type in GeneUsageDrilldownStatsParser."}(0,_classPrivateFieldGet2.default)(this,_seriesByRepertoire5)[t].push(e)}},{key:"preparse",value:function(e){(0,_classPrivateFieldGet2.default)(this,_logger5).trace("preparse.")}},{key:"postparse",value:function(e){(0,_classPrivateFieldGet2.default)(this,_logger5).trace("postparse.")}},{key:"onparse",value:function(e){var t=e.getData();(0,_classPrivateFieldGet2.default)(this,_logger5).trace("parse");var s=new _common.DebugTimer;s.start("parse");var r,a,i=["rgb(0,66,157)","rgb(43,87,167)","rgb(66,108,176)","rgb(86,129,185)","rgb(105,151,194)","rgb(125,174,202)","rgb(147,196,210)","rgb(171,218,217)","rgb(202,239,223)","rgb(255,226,202)","rgb(255,196,180)","rgb(255,165,158)","rgb(249,134,137)","rgb(237,105,118)","rgb(221,76,101)","rgb(202,47,85)","rgb(177,19,70)","rgb(147,0,58)"],l=0,n=1,o=[],u=[],d=[],_=StatsParserConstants.POSTFIX_GENE,c=(StatsParserConstants.SPLITER_GENE,StatsParserConstants.POSTFIX_CALL),S=StatsParserConstants.SPLITER_CALL;"string"==typeof t&&(t=JSON.parse(t));var g=t[StatsParserConstants.MESSAGE],f=g.length;if((0,_classPrivateFieldGet2.default)(this,_logger5).debug("Data Result length = "+f),f>1){if((0,_classPrivateFieldGet2.default)(this,_logger5).debug("Representing "+f+" repertoires. Will need a 3D chart."),(0,_classPrivateFieldSet2.default)(this,_multipleSeries5,!0),i.length<f)throw(0,_classPrivateFieldGet2.default)(this,_logger5).error("Not enough colors set for the amount of repertoires. Please increase the number of colors in seriesColor array."),"Not enough colors set for the amount of repertoires. Please increase the number of colors in seriesColor array.";n=Math.floor((i.length-1)/(f-1))}for(var p=0;p<f;p++){var P=i[l];l+=n;var h=g[p],v=h[StatsParserConstants.REPERTOIRES],m=v[StatsParserConstants.REPERTOIRE_ID];this._initializeRepertoire(m);for(var T=0;T<h[StatsParserConstants.STATISTICS].length;T++){var y=h[StatsParserConstants.STATISTICS][T],I=y[StatsParserConstants.STATISTICS_NAME],C=_common.ResultSeriesType.getByName(I).typeCode;C==_common.ResultSeriesType.GENE?r=y:C==_common.ResultSeriesType.CALL?a=y:_common.ResultSeriesType.FAMILY}if(!r||!a)throw"Incomplete structure for Drilldown. A structure of gene > call is required.";if(r){for(var R=r[StatsParserConstants.STATISTICS_NAME],G="rep".concat(m).concat(_),F=_common.ResultSeriesType.getByName(R),b="Repertoire ".concat(m).concat(" ").concat(F.toString()),A=e.seriesName&&e.seriesName[p]||b,w=(r[StatsParserConstants.TOTAL],(new _series9.ResultSeries).setRepertoireId(m).setSampleProcessingId(v[StatsParserConstants.SAMPLE_PROCESSING_ID]).setDataProcessingId(v[StatsParserConstants.DATA_PROCESSING_ID]).setId(G).setName(A).setFieldName(R).setColor(P).setType(F)),E=w.data,N=0;N<r[StatsParserConstants.DATA].length;N++){var D=r[StatsParserConstants.DATA][N],O=D[StatsParserConstants.KEY]||"",k=O.concat(c);d.push(O),this._initializeCellGroup(m,k);var B=(new _series9.ResultSeriesDataItem).setName(O).setY(D[StatsParserConstants.VALUE]).setDrilldown(k);E.push(B)}e.sort&&E.sort(function(e,t){return e.name.localeCompare(t.name)}),o.push(w),this._addToStructures(w)}if(a){for(var L=a[StatsParserConstants.STATISTICS_NAME],z="rep".concat(m).concat(c),M=_common.ResultSeriesType.getByName(L),U="Repertoire ".concat(m).concat(" ").concat(M.toString()),Y=e.seriesName&&e.seriesName[p]||U,W=(new _series9.ResultSeries).setRepertoireId(m).setSampleProcessingId(v[StatsParserConstants.SAMPLE_PROCESSING_ID]).setDataProcessingId(v[StatsParserConstants.DATA_PROCESSING_ID]).setId(z).setName(Y).setFieldName(L).setColor(P).setType(M).data,q=new Object,V=0;V<d.length;V++){var J=d[V].concat(c),x=d[V].concat(" ").concat(M.toString()),j=e.seriesName&&e.seriesName[p]||x;q[d[V]]=(new _series9.ResultSeries).setRepertoireId(m).setSampleProcessingId(v[StatsParserConstants.SAMPLE_PROCESSING_ID]).setDataProcessingId(v[StatsParserConstants.DATA_PROCESSING_ID]).setId(J).setName(j).setFieldName(L).setType(M).setColor(P).setParentName(J)}for(var K=0;K<a[StatsParserConstants.DATA].length;K++){var X=a[StatsParserConstants.DATA][K],H=X[StatsParserConstants.KEY]||"",Q=H.indexOf(S);-1==Q&&(Q=H.length);var Z=H.substring(0,Q),$=(new _series9.ResultSeriesDataItem).setName(H).setY(X[StatsParserConstants.VALUE]);W.push($),q[Z].data.push($)}for(var ee in e.sort&&W.sort(function(e,t){return e.name.localeCompare(t.name)}),q){var te=q[ee];e.sort&&te.data.sort(function(e,t){return e.name.localeCompare(t.name)}),this._addToStructures(te),u.push(te.asHighchartSeries())}}}(0,_classPrivateFieldSet2.default)(this,_series7,o),(0,_classPrivateFieldSet2.default)(this,_drilldownSeries2,{series:u}),s.end("parse"),s.print()}},{key:"drilldown",get:function(){return!0}},{key:"geneType",get:function(){return(0,_classPrivateFieldGet2.default)(this,_geneType2)}},{key:"drilldownSeries",get:function(){if((0,_classPrivateFieldGet2.default)(this,_logger5).debug("getting drilldown series."),this.multipleSeries){var e={series:[]};return(0,_classPrivateFieldGet2.default)(this,_logger5).trace(JSON.stringify(e)),e}return(0,_classPrivateFieldGet2.default)(this,_logger5).trace(JSON.stringify((0,_classPrivateFieldGet2.default)(this,_drilldownSeries2))),(0,_classPrivateFieldGet2.default)(this,_drilldownSeries2)}},{key:"multipleSeries",get:function(){return(0,_classPrivateFieldGet2.default)(this,_multipleSeries5)}},{key:"drillupSeriesEvent",get:function(){var e=(0,_classPrivateFieldGet2.default)(this,_logger5);return(0,_classPrivateFieldGet2.default)(this,_multipleSeries5)?(e.debug("retrieving multiple series drillup event"),function(t){e.trace(t.toString())}):(e.debug("retrieving single series drillup event"),function(t){e.trace(t.toString())})}},{key:"drilldownSeriesEvent",get:function(){(0,_classPrivateFieldGet2.default)(this,_logger5).debug("requested drilldown event");var e=(0,_classPrivateFieldGet2.default)(this,_logger5);if(!(0,_classPrivateFieldGet2.default)(this,_multipleSeries5))return(0,_classPrivateFieldGet2.default)(this,_logger5).debug("retrieving single series drilldown event"),function(t){this.setTitle(null,{text:t.point.name}),e.trace(t.toString())};var t=_objectSpread({},(0,_classPrivateFieldGet2.default)(this,_cellSeriesByGene2));return function(s){var r=_common.Common.makeid(12);if(e.trace(r+", "+s.toString()),s.seriesOptions)this.setTitle(null,{text:s.seriesOptions.name});else{this.setTitle(null,{text:s.point.name}),e.debug(r+", Gathering drilldown series for "+s.point.drilldown);for(var a=0;a<t[s.point.drilldown].length;a++){var i=t[s.point.drilldown][a];e.debug(r+", Found series"),e.trace(JSON.stringify(i)),this.addSingleSeriesAsDrilldown(s.point,i.asHighchartSeries())}e.trace(JSON.stringify(this.drilldown)),this.applyDrilldown()}}}}]),s}(_parser.DrilldownParser);exports.JGeneUsageDrilldownStatsParser=JGeneUsageDrilldownStatsParser;

},{"./common.js":14,"./parser.js":20,"./properties.js":21,"./series.js":23,"@babel/runtime/helpers/assertThisInitialized":1,"@babel/runtime/helpers/classCallCheck":2,"@babel/runtime/helpers/classPrivateFieldGet":3,"@babel/runtime/helpers/classPrivateFieldSet":4,"@babel/runtime/helpers/createClass":5,"@babel/runtime/helpers/defineProperty":6,"@babel/runtime/helpers/getPrototypeOf":7,"@babel/runtime/helpers/inherits":8,"@babel/runtime/helpers/interopRequireDefault":9,"@babel/runtime/helpers/possibleConstructorReturn":10}],16:[function(require,module,exports){
"use strict";var _interopRequireDefault=require("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(exports,"__esModule",{value:!0}),exports.CGeneUsageStatsResult=exports.JGeneUsageStatsResult=exports.DGeneUsageStatsResult=exports.VGeneUsageStatsResult=exports.GeneUsageStatsResult=exports.CountStatsResult=exports.JunctionLengthStatsResult=void 0;var _assertThisInitialized2=_interopRequireDefault(require("@babel/runtime/helpers/assertThisInitialized")),_createClass2=_interopRequireDefault(require("@babel/runtime/helpers/createClass")),_classPrivateFieldGet2=_interopRequireDefault(require("@babel/runtime/helpers/classPrivateFieldGet")),_classPrivateFieldSet2=_interopRequireDefault(require("@babel/runtime/helpers/classPrivateFieldSet")),_classCallCheck2=_interopRequireDefault(require("@babel/runtime/helpers/classCallCheck")),_inherits2=_interopRequireDefault(require("@babel/runtime/helpers/inherits")),_possibleConstructorReturn2=_interopRequireDefault(require("@babel/runtime/helpers/possibleConstructorReturn")),_getPrototypeOf2=_interopRequireDefault(require("@babel/runtime/helpers/getPrototypeOf")),_common=require("./common.js"),_result=require("./result.js"),_iReceptorStatsParser=require("./iReceptorStatsParser.js");function _createSuper(e){var t=_isNativeReflectConstruct();return function(){var r,s=(0,_getPrototypeOf2.default)(e);if(t){var a=(0,_getPrototypeOf2.default)(this).constructor;r=Reflect.construct(s,arguments,a)}else r=s.apply(this,arguments);return(0,_possibleConstructorReturn2.default)(this,r)}}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}var StatsResult=function(e){(0,_inherits2.default)(r,e);var t=_createSuper(r);function r(){return(0,_classCallCheck2.default)(this,r),t.call(this)}return r}(_result.Result),_logger=new WeakMap,CountStatsResult=function(e){(0,_inherits2.default)(r,e);var t=_createSuper(r);function r(){var e;return(0,_classCallCheck2.default)(this,r),e=t.call(this),_logger.set((0,_assertThisInitialized2.default)(e),{writable:!0,value:void 0}),(0,_classPrivateFieldSet2.default)((0,_assertThisInitialized2.default)(e),_logger,new _common.Logger("CountStatsResult")),(0,_classPrivateFieldGet2.default)((0,_assertThisInitialized2.default)(e),_logger).debug("Constructor."),e.properties.setTitle(r.TITLE).setYLabel(r.Y_LABEL),e.setParser(new _iReceptorStatsParser.CountStatsParser),e}return(0,_createClass2.default)(r,null,[{key:"TITLE",get:function(){return"Count"}},{key:"Y_LABEL",get:function(){return"Count"}}]),(0,_createClass2.default)(r,[{key:"isMultipleSeries",value:function(){return this.parser.isMultipleSeries()}},{key:"update",value:function(e){return(0,_classPrivateFieldGet2.default)(this,_logger).debug("update"),this.properties.dataDrilldown==e.dataDrilldown?this:(this.properties.setDataDrilldown(e.dataDrilldown),this.setParser(new _iReceptorStatsParser.CountStatsParser))}},{key:"drilldownSeries",get:function(){return(0,_classPrivateFieldGet2.default)(this,_logger).debug("getting drilldown series."),this.parser.drilldownSeries}}]),r}(StatsResult);exports.CountStatsResult=CountStatsResult;var _logger2=new WeakMap,JunctionLengthStatsResult=function(e){(0,_inherits2.default)(r,e);var t=_createSuper(r);function r(){var e;return(0,_classCallCheck2.default)(this,r),e=t.call(this),_logger2.set((0,_assertThisInitialized2.default)(e),{writable:!0,value:void 0}),(0,_classPrivateFieldSet2.default)((0,_assertThisInitialized2.default)(e),_logger2,new _common.Logger("JunctionLengthStatsResult")),(0,_classPrivateFieldGet2.default)((0,_assertThisInitialized2.default)(e),_logger2).debug("Constructor."),e.properties.setTitle("Junction Length").setYLabel("Percentage").setPercentage(!0),e.setParser(new _iReceptorStatsParser.JunctionLenghtStatsParser),e}return(0,_createClass2.default)(r,null,[{key:"TITLE",get:function(){return"Junction Length"}},{key:"Y_LABEL",get:function(){return"Percentage"}}]),(0,_createClass2.default)(r,[{key:"isMultipleSeries",value:function(){return!1}},{key:"update",value:function(e){return(0,_classPrivateFieldGet2.default)(this,_logger2).debug("update"),this.properties.dataDrilldown==e.dataDrilldown?this:(this.properties.setDataDrilldown(e.dataDrilldown),this.setParser(new _iReceptorStatsParser.JunctionLenghtStatsParser))}},{key:"drilldownSeries",get:function(){return(0,_classPrivateFieldGet2.default)(this,_logger2).debug("getting drilldown series."),this.parser.drilldownSeries}}]),r}(StatsResult);exports.JunctionLengthStatsResult=JunctionLengthStatsResult;var _logger3=new WeakMap,_geneType=new WeakMap,GeneUsageStatsResult=function(e){(0,_inherits2.default)(r,e);var t=_createSuper(r);function r(e){var s;if((0,_classCallCheck2.default)(this,r),s=t.call(this),_logger3.set((0,_assertThisInitialized2.default)(s),{writable:!0,value:void 0}),_geneType.set((0,_assertThisInitialized2.default)(s),{writable:!0,value:void 0}),(0,_classPrivateFieldSet2.default)((0,_assertThisInitialized2.default)(s),_logger3,new _common.Logger("GeneUsageStatsResult")),(0,_classPrivateFieldGet2.default)((0,_assertThisInitialized2.default)(s),_logger3).debug("Constructor."),!_common.GeneType.contains(e))throw logger.fatal("type must exist in GeneType.genes"),"type must exist in GeneType.genes";return(0,_classPrivateFieldSet2.default)((0,_assertThisInitialized2.default)(s),_geneType,e),s.properties.setTitle("IR+ Repertoire Stats").setSubtitle("Subgroups").setYLabel("Count"),s.setParser(s.drilldown?new _iReceptorStatsParser.GeneUsageDrilldownStatsParser(e):new _iReceptorStatsParser.GeneUsageStatsParser(e)),s}return(0,_createClass2.default)(r,[{key:"isMultipleSeries",value:function(){return this.parser.multipleSeries}},{key:"drilldownSeries",get:function(){return(0,_classPrivateFieldGet2.default)(this,_logger3).debug("getting drilldown series."),this.parser.drilldownSeries}},{key:"drillupSeriesEvent",get:function(){return this.parser.drillupSeriesEvent}},{key:"drilldownSeriesEvent",get:function(){return(0,_classPrivateFieldGet2.default)(this,_logger3).debug("requested drilldown event"),this.parser.drilldownSeriesEvent}},{key:"multipleSeries",get:function(){return this.parser.multipleSeries}}]),r}(StatsResult);exports.GeneUsageStatsResult=GeneUsageStatsResult;var _logger4=new WeakMap,VGeneUsageStatsResult=function(e){(0,_inherits2.default)(r,e);var t=_createSuper(r);function r(){var e;return(0,_classCallCheck2.default)(this,r),e=t.call(this,_common.GeneType.V_GENE),_logger4.set((0,_assertThisInitialized2.default)(e),{writable:!0,value:void 0}),(0,_classPrivateFieldSet2.default)((0,_assertThisInitialized2.default)(e),_logger4,new _common.Logger("VGeneUsageStatsResult")),(0,_classPrivateFieldGet2.default)((0,_assertThisInitialized2.default)(e),_logger4).debug("Constructor."),e}return(0,_createClass2.default)(r,[{key:"update",value:function(e){return(0,_classPrivateFieldGet2.default)(this,_logger4).debug("update"),this.properties.dataDrilldown==e.dataDrilldown?this:(this.properties.setDataDrilldown(e.dataDrilldown),this.setParser(this.drilldown?new _iReceptorStatsParser.GeneUsageDrilldownStatsParser(_common.GeneType.V_GENE):new _iReceptorStatsParser.GeneUsageStatsParser(_common.GeneType.V_GENE)))}}]),r}(GeneUsageStatsResult);exports.VGeneUsageStatsResult=VGeneUsageStatsResult;var _logger5=new WeakMap,DGeneUsageStatsResult=function(e){(0,_inherits2.default)(r,e);var t=_createSuper(r);function r(){var e;return(0,_classCallCheck2.default)(this,r),e=t.call(this,_common.GeneType.D_GENE),_logger5.set((0,_assertThisInitialized2.default)(e),{writable:!0,value:void 0}),(0,_classPrivateFieldSet2.default)((0,_assertThisInitialized2.default)(e),_logger5,new _common.Logger("DGeneUsageStatsResult")),(0,_classPrivateFieldGet2.default)((0,_assertThisInitialized2.default)(e),_logger5).debug("Constructor."),e}return(0,_createClass2.default)(r,[{key:"update",value:function(e){return(0,_classPrivateFieldGet2.default)(this,_logger5).debug("update"),this.properties.dataDrilldown==e.dataDrilldown?this:(this.properties.setDataDrilldown(e.dataDrilldown),this.setParser(this.drilldown?new _iReceptorStatsParser.GeneUsageDrilldownStatsParser(_common.GeneType.D_GENE):new _iReceptorStatsParser.GeneUsageStatsParser(_common.GeneType.D_GENE)))}}]),r}(GeneUsageStatsResult);exports.DGeneUsageStatsResult=DGeneUsageStatsResult;var _logger6=new WeakMap,JGeneUsageStatsResult=function(e){(0,_inherits2.default)(r,e);var t=_createSuper(r);function r(){var e;return(0,_classCallCheck2.default)(this,r),e=t.call(this,_common.GeneType.J_GENE),_logger6.set((0,_assertThisInitialized2.default)(e),{writable:!0,value:void 0}),(0,_classPrivateFieldSet2.default)((0,_assertThisInitialized2.default)(e),_logger6,new _common.Logger("JGeneUsageStatsResult")),(0,_classPrivateFieldGet2.default)((0,_assertThisInitialized2.default)(e),_logger6).debug("Constructor."),e.drilldown&&e.setParser(new _iReceptorStatsParser.JGeneUsageDrilldownStatsParser(_common.GeneType.J_GENE)),e}return(0,_createClass2.default)(r,[{key:"update",value:function(e){return(0,_classPrivateFieldGet2.default)(this,_logger6).debug("update"),this.properties.dataDrilldown==e.dataDrilldown?this:(this.properties.setDataDrilldown(e.dataDrilldown),this.setParser(this.drilldown?new _iReceptorStatsParser.JGeneUsageDrilldownStatsParser(_common.GeneType.J_GENE):new _iReceptorStatsParser.GeneUsageStatsParser(_common.GeneType.J_GENE)))}}]),r}(GeneUsageStatsResult);exports.JGeneUsageStatsResult=JGeneUsageStatsResult;var _logger7=new WeakMap,CGeneUsageStatsResult=function(e){(0,_inherits2.default)(r,e);var t=_createSuper(r);function r(){var e;return(0,_classCallCheck2.default)(this,r),e=t.call(this,_common.GeneType.C_GENE),_logger7.set((0,_assertThisInitialized2.default)(e),{writable:!0,value:void 0}),(0,_classPrivateFieldSet2.default)((0,_assertThisInitialized2.default)(e),_logger7,new _common.Logger("CGeneUsageStatsResult")),(0,_classPrivateFieldGet2.default)((0,_assertThisInitialized2.default)(e),_logger7).debug("Constructor."),e}return(0,_createClass2.default)(r,[{key:"update",value:function(e){return(0,_classPrivateFieldGet2.default)(this,_logger7).debug("update"),this.properties.dataDrilldown==e.dataDrilldown?this:(this.properties.setDataDrilldown(e.dataDrilldown),this.setParser(this.drilldown?new _iReceptorStatsParser.GeneUsageDrilldownStatsParser(_common.GeneType.C_GENE):new _iReceptorStatsParser.GeneUsageStatsParser(_common.GeneType.C_GENE)))}}]),r}(GeneUsageStatsResult);exports.CGeneUsageStatsResult=CGeneUsageStatsResult;

},{"./common.js":14,"./iReceptorStatsParser.js":15,"./result.js":22,"@babel/runtime/helpers/assertThisInitialized":1,"@babel/runtime/helpers/classCallCheck":2,"@babel/runtime/helpers/classPrivateFieldGet":3,"@babel/runtime/helpers/classPrivateFieldSet":4,"@babel/runtime/helpers/createClass":5,"@babel/runtime/helpers/getPrototypeOf":7,"@babel/runtime/helpers/inherits":8,"@babel/runtime/helpers/interopRequireDefault":9,"@babel/runtime/helpers/possibleConstructorReturn":10}],17:[function(require,module,exports){
"use strict";var _interopRequireDefault=require("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(exports,"__esModule",{value:!0}),exports.ImmuneDbCloneCountParser=void 0;var _classCallCheck2=_interopRequireDefault(require("@babel/runtime/helpers/classCallCheck")),_createClass2=_interopRequireDefault(require("@babel/runtime/helpers/createClass")),_assertThisInitialized2=_interopRequireDefault(require("@babel/runtime/helpers/assertThisInitialized")),_inherits2=_interopRequireDefault(require("@babel/runtime/helpers/inherits")),_possibleConstructorReturn2=_interopRequireDefault(require("@babel/runtime/helpers/possibleConstructorReturn")),_getPrototypeOf2=_interopRequireDefault(require("@babel/runtime/helpers/getPrototypeOf")),_classPrivateFieldGet2=_interopRequireDefault(require("@babel/runtime/helpers/classPrivateFieldGet")),_classPrivateFieldSet2=_interopRequireDefault(require("@babel/runtime/helpers/classPrivateFieldSet")),_common=require("./common.js"),_parser=require("./parser.js"),_series2=require("./series.js");function _createSuper(e){var t=_isNativeReflectConstruct();return function(){var r,s=(0,_getPrototypeOf2.default)(e);if(t){var a=(0,_getPrototypeOf2.default)(this).constructor;r=Reflect.construct(s,arguments,a)}else r=s.apply(this,arguments);return(0,_possibleConstructorReturn2.default)(this,r)}}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}var _logger=new WeakMap,_series=new WeakMap,_multipleSeries=new WeakMap,ImmuneDbCloneCountParser=function(e){(0,_inherits2.default)(r,e);var t=_createSuper(r);function r(){var e;return(0,_classCallCheck2.default)(this,r),e=t.call(this),_logger.set((0,_assertThisInitialized2.default)(e),{writable:!0,value:void 0}),_series.set((0,_assertThisInitialized2.default)(e),{writable:!0,value:void 0}),_multipleSeries.set((0,_assertThisInitialized2.default)(e),{writable:!0,value:void 0}),(0,_classPrivateFieldSet2.default)((0,_assertThisInitialized2.default)(e),_logger,new _common.Logger("ImmuneDbCloneCountParser")),(0,_classPrivateFieldGet2.default)((0,_assertThisInitialized2.default)(e),_logger).trace("Constructor."),(0,_classPrivateFieldSet2.default)((0,_assertThisInitialized2.default)(e),_multipleSeries,!1),(0,_classPrivateFieldSet2.default)((0,_assertThisInitialized2.default)(e),_series,[]),e}return(0,_createClass2.default)(r,[{key:"getSeries",value:function(){return(0,_classPrivateFieldGet2.default)(this,_logger).debug("getting series."),(0,_classPrivateFieldGet2.default)(this,_series)}},{key:"isMultipleSeries",value:function(){return(0,_classPrivateFieldGet2.default)(this,_multipleSeries)}},{key:"preparse",value:function(e){(0,_classPrivateFieldGet2.default)(this,_logger).trace("preparse.")}},{key:"postparse",value:function(e){(0,_classPrivateFieldGet2.default)(this,_logger).trace("postparse.")}},{key:"onparse",value:function(e){var t=e.data;(0,_classPrivateFieldGet2.default)(this,_logger).trace("parse");var r=new _common.DebugTimer;r.start("parse");var s=["rgb(0,66,157)","rgb(43,87,167)","rgb(66,108,176)","rgb(86,129,185)","rgb(105,151,194)","rgb(125,174,202)","rgb(147,196,210)","rgb(171,218,217)","rgb(202,239,223)","rgb(255,226,202)","rgb(255,196,180)","rgb(255,165,158)","rgb(249,134,137)","rgb(237,105,118)","rgb(221,76,101)","rgb(202,47,85)","rgb(177,19,70)","rgb(147,0,58)"],a=0,i=1;"string"==typeof t&&(t=JSON.parse(t));var l=Object.keys(t);if(l.length>1){if((0,_classPrivateFieldGet2.default)(this,_logger).debug("Representing "+l+" studies."),(0,_classPrivateFieldSet2.default)(this,_multipleSeries,!0),s.length<l.length)throw(0,_classPrivateFieldGet2.default)(this,_logger).error("Not enough colors set for the amount of repertoires. Please increase the number of colors in seriesColor array."),"Not enough colors set for the amount of repertoires. Please increase the number of colors in seriesColor array.";i=Math.floor((s.length-1)/(l.length-1))}var o={};r.start("prepare");for(var n=0;n<l.length;n++){var u=l[n];o[u]={};for(var c=t[u],p=0;p<c.length;p++){var f=c[p],d=Object.keys(f);if(1!=d.length)throw"Received more than one subject for a study. Only one was expected.";var _=d[0],g=f[_];0,(o[u][_]||(o[u][_]=[])).push(g)}}r.end("prepare");for(var h=[],m=0;m<l.length;m++){h[l[m]]=s[a],a+=i}var v=(new _series2.ResultSeries).setRepertoireId("").setSampleProcessingId("").setDataProcessingId("").setId("SeriesTop").setName("Fraction of top n clones").setFieldName("Fraction of top n clones").setType(_common.ResultSeriesType.getByName("top_clones")),b=v.data,P=(new _series2.ResultSeries).setRepertoireId("").setSampleProcessingId("").setDataProcessingId("").setId("SeriesRest").setName("Fraction of top 1-n clones").setFieldName("Fraction of top 1-n clones").setType(_common.ResultSeriesType.getByName("top_clones")),R=P.data;r.start("calculate");for(var y=0;y<l.length;y++){var C=l[y];for(var S in o[C])if(o[C].hasOwnProperty(S)){var F=_common.Common.roundTo(o[C][S].reduce(function(e,t){return e+t},0),4),I=(new _series2.ResultSeriesDataItem).setName(C+"-"+S).setY(F).setColor(h[C]);b.push(I);var q=(new _series2.ResultSeriesDataItem).setName(C+"-"+S).setY(1-F).setColor("rgb(192,192,192)");R.push(q)}}r.end("calculate"),(0,_classPrivateFieldGet2.default)(this,_series).push(v,P),r.end("parse"),r.print()}}]),r}(_parser.Parser);exports.ImmuneDbCloneCountParser=ImmuneDbCloneCountParser;

},{"./common.js":14,"./parser.js":20,"./series.js":23,"@babel/runtime/helpers/assertThisInitialized":1,"@babel/runtime/helpers/classCallCheck":2,"@babel/runtime/helpers/classPrivateFieldGet":3,"@babel/runtime/helpers/classPrivateFieldSet":4,"@babel/runtime/helpers/createClass":5,"@babel/runtime/helpers/getPrototypeOf":7,"@babel/runtime/helpers/inherits":8,"@babel/runtime/helpers/interopRequireDefault":9,"@babel/runtime/helpers/possibleConstructorReturn":10}],18:[function(require,module,exports){
"use strict";var _interopRequireDefault=require("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(exports,"__esModule",{value:!0}),exports.ImmuneDbCloneCountResult=void 0;var _classCallCheck2=_interopRequireDefault(require("@babel/runtime/helpers/classCallCheck")),_createClass2=_interopRequireDefault(require("@babel/runtime/helpers/createClass")),_assertThisInitialized2=_interopRequireDefault(require("@babel/runtime/helpers/assertThisInitialized")),_inherits2=_interopRequireDefault(require("@babel/runtime/helpers/inherits")),_possibleConstructorReturn2=_interopRequireDefault(require("@babel/runtime/helpers/possibleConstructorReturn")),_getPrototypeOf2=_interopRequireDefault(require("@babel/runtime/helpers/getPrototypeOf")),_classPrivateFieldGet2=_interopRequireDefault(require("@babel/runtime/helpers/classPrivateFieldGet")),_classPrivateFieldSet2=_interopRequireDefault(require("@babel/runtime/helpers/classPrivateFieldSet")),_common=require("./common.js"),_properties=require("./properties.js"),_result=require("./result.js"),_immuneDbParser=require("./immuneDbParser.js");function _createSuper(e){var t=_isNativeReflectConstruct();return function(){var r,i=(0,_getPrototypeOf2.default)(e);if(t){var l=(0,_getPrototypeOf2.default)(this).constructor;r=Reflect.construct(i,arguments,l)}else r=i.apply(this,arguments);return(0,_possibleConstructorReturn2.default)(this,r)}}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}var _logger=new WeakMap,_drilldownSeries=new WeakMap,_multipleSeries=new WeakMap,ImmuneDbCloneCountResult=function(e){(0,_inherits2.default)(r,e);var t=_createSuper(r);function r(){var e;return(0,_classCallCheck2.default)(this,r),e=t.call(this),_logger.set((0,_assertThisInitialized2.default)(e),{writable:!0,value:void 0}),_drilldownSeries.set((0,_assertThisInitialized2.default)(e),{writable:!0,value:void 0}),_multipleSeries.set((0,_assertThisInitialized2.default)(e),{writable:!0,value:void 0}),(0,_classPrivateFieldSet2.default)((0,_assertThisInitialized2.default)(e),_logger,new _common.Logger("ImmuneDbCloneCountResult")),(0,_classPrivateFieldGet2.default)((0,_assertThisInitialized2.default)(e),_logger).debug("Constructor."),(0,_classPrivateFieldSet2.default)((0,_assertThisInitialized2.default)(e),_drilldownSeries,{series:[]}),(0,_classPrivateFieldSet2.default)((0,_assertThisInitialized2.default)(e),_multipleSeries,!1),e.properties.setTitle("Fraction of Top n clones").setYLabel("Fraction (copies in subject/whole repertoire)").setStackingType("normal"),e.setParser(new _immuneDbParser.ImmuneDbCloneCountParser),e}return(0,_createClass2.default)(r,[{key:"isMultipleSeries",value:function(){return(0,_classPrivateFieldGet2.default)(this,_multipleSeries)}},{key:"update",value:function(e){return(0,_classPrivateFieldGet2.default)(this,_logger).debug("update"),this.properties.dataDrilldown==e.dataDrilldown?this:(this.properties.setDataDrilldown(e.dataDrilldown),this.setParser(new _immuneDbParser.ImmuneDbCloneCountParser))}},{key:"series",get:function(){return(0,_classPrivateFieldGet2.default)(this,_logger).debug("getting series."),this.parser.series}},{key:"drilldownSeries",get:function(){if((0,_classPrivateFieldGet2.default)(this,_logger).debug("getting drilldown series."),!this.drilldown||(0,_classPrivateFieldGet2.default)(this,_multipleSeries)){var e={series:[]};return(0,_classPrivateFieldGet2.default)(this,_logger).trace(JSON.stringify(e)),e}return(0,_classPrivateFieldGet2.default)(this,_logger).trace(JSON.stringify((0,_classPrivateFieldGet2.default)(this,_drilldownSeries))),(0,_classPrivateFieldGet2.default)(this,_drilldownSeries)}}]),r}(_result.Result);exports.ImmuneDbCloneCountResult=ImmuneDbCloneCountResult;

},{"./common.js":14,"./immuneDbParser.js":17,"./properties.js":21,"./result.js":22,"@babel/runtime/helpers/assertThisInitialized":1,"@babel/runtime/helpers/classCallCheck":2,"@babel/runtime/helpers/classPrivateFieldGet":3,"@babel/runtime/helpers/classPrivateFieldSet":4,"@babel/runtime/helpers/createClass":5,"@babel/runtime/helpers/getPrototypeOf":7,"@babel/runtime/helpers/inherits":8,"@babel/runtime/helpers/interopRequireDefault":9,"@babel/runtime/helpers/possibleConstructorReturn":10}],19:[function(require,module,exports){
"use strict";var _interopRequireDefault=require("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(exports,"__esModule",{value:!0}),Object.defineProperty(exports,"Logger",{enumerable:!0,get:function(){return _common.Logger}}),Object.defineProperty(exports,"ResultSeriesType",{enumerable:!0,get:function(){return _common.ResultSeriesType}}),Object.defineProperty(exports,"GeneType",{enumerable:!0,get:function(){return _common.GeneType}}),Object.defineProperty(exports,"DataType",{enumerable:!0,get:function(){return _common.DataType}}),Object.defineProperty(exports,"Properties",{enumerable:!0,get:function(){return _properties.Properties}}),Object.defineProperty(exports,"ResultSeriesDataItem",{enumerable:!0,get:function(){return _series.ResultSeriesDataItem}}),Object.defineProperty(exports,"ResultSeries",{enumerable:!0,get:function(){return _series.ResultSeries}}),Object.defineProperty(exports,"Result",{enumerable:!0,get:function(){return _result.Result}}),Object.defineProperty(exports,"VGeneUsageStatsResult",{enumerable:!0,get:function(){return _iReceptorStatsResult.VGeneUsageStatsResult}}),Object.defineProperty(exports,"DGeneUsageStatsResult",{enumerable:!0,get:function(){return _iReceptorStatsResult.DGeneUsageStatsResult}}),Object.defineProperty(exports,"JGeneUsageStatsResult",{enumerable:!0,get:function(){return _iReceptorStatsResult.JGeneUsageStatsResult}}),Object.defineProperty(exports,"CGeneUsageStatsResult",{enumerable:!0,get:function(){return _iReceptorStatsResult.CGeneUsageStatsResult}}),Object.defineProperty(exports,"JunctionLengthStatsResult",{enumerable:!0,get:function(){return _iReceptorStatsResult.JunctionLengthStatsResult}}),Object.defineProperty(exports,"CountStatsResult",{enumerable:!0,get:function(){return _iReceptorStatsResult.CountStatsResult}}),Object.defineProperty(exports,"HighchartsChart",{enumerable:!0,get:function(){return _charts.HighchartsChart}}),exports.ResultFactory=exports.VisualizationLibrary=void 0;var _classCallCheck2=_interopRequireDefault(require("@babel/runtime/helpers/classCallCheck")),_createClass2=_interopRequireDefault(require("@babel/runtime/helpers/createClass")),_defineProperty2=_interopRequireDefault(require("@babel/runtime/helpers/defineProperty")),_common=require("./common.js"),_properties=require("./properties.js"),_series=require("./series.js"),_result=require("./result.js"),_iReceptorStatsResult=require("./iReceptorStatsResult.js"),_immuneDbResult=require("./immuneDbResult.js"),_charts=require("./charts.js"),VisualizationLibrary=function(){function e(){throw(0,_classCallCheck2.default)(this,e),new Error("This class is not instantiable .")}return(0,_createClass2.default)(e,null,[{key:"createChart",value:function(t){if(void 0===t)throw new TypeError("properties parameter is mandatory.");var r=new _charts.HighchartsChart(t);return e.charts[r.id]=r,r}},{key:"createProperties",value:function(e){return _properties.Properties.create(e)}},{key:"get",value:function(t){return e.charts[t]}},{key:"setDebugLevel",value:function(e){_common.Logger.setDebugLevel(e)}},{key:"charts",get:function(){return charts}},{key:"PRODUCT",get:function(){return"AIRR Visualization Library"}},{key:"VERSION",get:function(){return"0.4.0"}}]),e}();exports.VisualizationLibrary=VisualizationLibrary,(0,_defineProperty2.default)(VisualizationLibrary,"charts",{});var ResultFactory=function(){function e(){(0,_classCallCheck2.default)(this,e)}return(0,_createClass2.default)(e,null,[{key:"build",value:function(e){var t=e.getDataType();if(!_common.DataType.contains(t))throw new TypeError("Unknown datatype: "+t);var r=void 0;switch(t){case _common.DataType.V_GENE_USAGE:r=new _iReceptorStatsResult.VGeneUsageStatsResult;break;case _common.DataType.D_GENE_USAGE:r=new _iReceptorStatsResult.DGeneUsageStatsResult;break;case _common.DataType.J_GENE_USAGE:r=new _iReceptorStatsResult.JGeneUsageStatsResult;break;case _common.DataType.C_GENE_USAGE:r=new _iReceptorStatsResult.CGeneUsageStatsResult;break;case _common.DataType.JUNCTION_LENGTH:r=new _iReceptorStatsResult.JunctionLengthStatsResult;break;case _common.DataType.CLONE_COUNT:r=new _iReceptorStatsResult.CountStatsResult;break;case _common.DataType.CLONE_COUNT_IMMUNEDB:r=new _immuneDbResult.ImmuneDbCloneCountResult}return r&&r.update(e),r}}]),e}();exports.ResultFactory=ResultFactory,window,void 0===window.airrvisualization&&(window.airrvisualization=VisualizationLibrary);

},{"./charts.js":13,"./common.js":14,"./iReceptorStatsResult.js":16,"./immuneDbResult.js":18,"./properties.js":21,"./result.js":22,"./series.js":23,"@babel/runtime/helpers/classCallCheck":2,"@babel/runtime/helpers/createClass":5,"@babel/runtime/helpers/defineProperty":6,"@babel/runtime/helpers/interopRequireDefault":9}],20:[function(require,module,exports){
"use strict";var _interopRequireDefault=require("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(exports,"__esModule",{value:!0}),exports.DrilldownParser=exports.Parser=void 0;var _assertThisInitialized2=_interopRequireDefault(require("@babel/runtime/helpers/assertThisInitialized")),_inherits2=_interopRequireDefault(require("@babel/runtime/helpers/inherits")),_possibleConstructorReturn2=_interopRequireDefault(require("@babel/runtime/helpers/possibleConstructorReturn")),_getPrototypeOf2=_interopRequireDefault(require("@babel/runtime/helpers/getPrototypeOf")),_classCallCheck2=_interopRequireDefault(require("@babel/runtime/helpers/classCallCheck")),_createClass2=_interopRequireDefault(require("@babel/runtime/helpers/createClass")),_classPrivateFieldGet2=_interopRequireDefault(require("@babel/runtime/helpers/classPrivateFieldGet")),_classPrivateFieldSet2=_interopRequireDefault(require("@babel/runtime/helpers/classPrivateFieldSet")),_common=require("./common.js");function _createSuper(e){var t=_isNativeReflectConstruct();return function(){var r,i=(0,_getPrototypeOf2.default)(e);if(t){var s=(0,_getPrototypeOf2.default)(this).constructor;r=Reflect.construct(i,arguments,s)}else r=i.apply(this,arguments);return(0,_possibleConstructorReturn2.default)(this,r)}}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}var _logger=new WeakMap,_properties=new WeakMap,Parser=function(){function e(){if((0,_classCallCheck2.default)(this,e),_logger.set(this,{writable:!0,value:void 0}),_properties.set(this,{writable:!0,value:void 0}),this.constructor===e)throw new TypeError("Can not construct abstract class.");if(this.preparse===e.prototype.preparse)throw new TypeError("Please implement abstract method preparse.");if(this.onparse===e.prototype.onparse)throw new TypeError("Please implement abstract method onparse.");if(this.postparse===e.prototype.postparse)throw new TypeError("Please implement abstract method postparse.");if(this.getSeries===e.prototype.getSeries)throw new TypeError("Please implement abstract method getSeries.");(0,_classPrivateFieldSet2.default)(this,_logger,new _common.Logger("Parser")),(0,_classPrivateFieldSet2.default)(this,_properties,void 0)}return(0,_createClass2.default)(e,[{key:"getProperties",value:function(){return(0,_classPrivateFieldGet2.default)(this,_logger).debug("getting properties."),(0,_classPrivateFieldGet2.default)(this,_properties)}},{key:"getSeries",value:function(){throw(0,_classPrivateFieldGet2.default)(this,_logger).fatal("this getSeries() method should never execute, specializations of Result need to overload it."),new TypeError("This method should not be called, implementations need to overload it.")}},{key:"preparse",value:function(e){throw(0,_classPrivateFieldGet2.default)(this,_logger).fatal("this preparse() method should never execute, specializations of Result need to overload it."),new TypeError("This method should not be called, implementations need to overload it.")}},{key:"onparse",value:function(e){throw(0,_classPrivateFieldGet2.default)(this,_logger).fatal("this parse() method should never execute, specializations of Result need to overload it."),new TypeError("This method should not be called, implementations need to overload it.")}},{key:"postparse",value:function(e){throw(0,_classPrivateFieldGet2.default)(this,_logger).fatal("this preparse() method should never execute, specializations of Result need to overload it."),new TypeError("This method should not be called, implementations need to overload it.")}},{key:"properties",get:function(){return this.getProperties()}},{key:"series",get:function(){return this.getSeries()}}]),e}();exports.Parser=Parser;var _logger2=new WeakMap,_drilldownSeries=new WeakMap,DrilldownParser=function(e){(0,_inherits2.default)(r,e);var t=_createSuper(r);function r(){var e;if((0,_classCallCheck2.default)(this,r),e=t.call(this),_logger2.set((0,_assertThisInitialized2.default)(e),{writable:!0,value:void 0}),_drilldownSeries.set((0,_assertThisInitialized2.default)(e),{writable:!0,value:void 0}),e.constructor===r)throw new TypeError("Can not construct abstract class.");return(0,_classPrivateFieldSet2.default)((0,_assertThisInitialized2.default)(e),_logger2,new _common.Logger("DrilldownParser")),(0,_classPrivateFieldSet2.default)((0,_assertThisInitialized2.default)(e),_drilldownSeries,[]),e}return(0,_createClass2.default)(r,[{key:"getDrilldownSeries",value:function(){return(0,_classPrivateFieldGet2.default)(this,_logger2).debug("getting drilldownSeries."),(0,_classPrivateFieldGet2.default)(this,_drilldownSeries)}},{key:"drilldownSeries",get:function(){return(0,_classPrivateFieldGet2.default)(this,_logger2).debug("getting drilldownSeries."),this.getDrilldownSeries()}}]),r}(Parser);exports.DrilldownParser=DrilldownParser;

},{"./common.js":14,"@babel/runtime/helpers/assertThisInitialized":1,"@babel/runtime/helpers/classCallCheck":2,"@babel/runtime/helpers/classPrivateFieldGet":3,"@babel/runtime/helpers/classPrivateFieldSet":4,"@babel/runtime/helpers/createClass":5,"@babel/runtime/helpers/getPrototypeOf":7,"@babel/runtime/helpers/inherits":8,"@babel/runtime/helpers/interopRequireDefault":9,"@babel/runtime/helpers/possibleConstructorReturn":10}],21:[function(require,module,exports){
"use strict";var _interopRequireDefault=require("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(exports,"__esModule",{value:!0}),exports.Properties=void 0;var _classCallCheck2=_interopRequireDefault(require("@babel/runtime/helpers/classCallCheck")),_createClass2=_interopRequireDefault(require("@babel/runtime/helpers/createClass")),_classPrivateFieldGet2=_interopRequireDefault(require("@babel/runtime/helpers/classPrivateFieldGet")),_classPrivateFieldSet2=_interopRequireDefault(require("@babel/runtime/helpers/classPrivateFieldSet")),_common=require("./common.js"),_logger=new WeakMap,_title=new WeakMap,_subtitle=new WeakMap,_xLabel=new WeakMap,_yLabel=new WeakMap,_stackingType=new WeakMap,_seriesName=new WeakMap,_data=new WeakMap,_dataType=new WeakMap,_dataDrilldown=new WeakMap,_id=new WeakMap,_sort=new WeakMap,_chartType=new WeakMap,_animation=new WeakMap,_percentage=new WeakMap,_alpha3D=new WeakMap,_beta3D=new WeakMap,_depth3D=new WeakMap,_seriesColors=new WeakMap,_dataDrilldown_userDefined=new WeakMap,_sort_userDefined=new WeakMap,_percentage_userDefined=new WeakMap,_chartType_userDefined=new WeakMap,_animation_userDefined=new WeakMap,_alpha3D_userDefined=new WeakMap,_beta3D_userDefined=new WeakMap,_depth3D_userDefined=new WeakMap,_seriesColors_userDefined=new WeakMap,Properties=function(){function e(){(0,_classCallCheck2.default)(this,e),_logger.set(this,{writable:!0,value:void 0}),_title.set(this,{writable:!0,value:void 0}),_subtitle.set(this,{writable:!0,value:void 0}),_xLabel.set(this,{writable:!0,value:void 0}),_yLabel.set(this,{writable:!0,value:void 0}),_stackingType.set(this,{writable:!0,value:void 0}),_seriesName.set(this,{writable:!0,value:void 0}),_data.set(this,{writable:!0,value:void 0}),_dataType.set(this,{writable:!0,value:void 0}),_dataDrilldown.set(this,{writable:!0,value:void 0}),_id.set(this,{writable:!0,value:void 0}),_sort.set(this,{writable:!0,value:void 0}),_chartType.set(this,{writable:!0,value:void 0}),_animation.set(this,{writable:!0,value:void 0}),_percentage.set(this,{writable:!0,value:void 0}),_alpha3D.set(this,{writable:!0,value:void 0}),_beta3D.set(this,{writable:!0,value:void 0}),_depth3D.set(this,{writable:!0,value:void 0}),_seriesColors.set(this,{writable:!0,value:void 0}),_dataDrilldown_userDefined.set(this,{writable:!0,value:void 0}),_sort_userDefined.set(this,{writable:!0,value:void 0}),_percentage_userDefined.set(this,{writable:!0,value:void 0}),_chartType_userDefined.set(this,{writable:!0,value:void 0}),_animation_userDefined.set(this,{writable:!0,value:void 0}),_alpha3D_userDefined.set(this,{writable:!0,value:void 0}),_beta3D_userDefined.set(this,{writable:!0,value:void 0}),_depth3D_userDefined.set(this,{writable:!0,value:void 0}),_seriesColors_userDefined.set(this,{writable:!0,value:void 0}),(0,_classPrivateFieldSet2.default)(this,_logger,new _common.Logger("Properties")),(0,_classPrivateFieldGet2.default)(this,_logger).debug("Constructor."),(0,_classPrivateFieldSet2.default)(this,_title,void 0),(0,_classPrivateFieldSet2.default)(this,_subtitle,void 0),(0,_classPrivateFieldSet2.default)(this,_xLabel,void 0),(0,_classPrivateFieldSet2.default)(this,_yLabel,void 0),(0,_classPrivateFieldSet2.default)(this,_stackingType,void 0),(0,_classPrivateFieldSet2.default)(this,_seriesName,void 0),(0,_classPrivateFieldSet2.default)(this,_data,void 0),(0,_classPrivateFieldSet2.default)(this,_dataType,void 0),(0,_classPrivateFieldSet2.default)(this,_dataDrilldown,e.DEFAULT_DATA_DRILLDOWN),(0,_classPrivateFieldSet2.default)(this,_id,_common.Common.makeid(12)),(0,_classPrivateFieldSet2.default)(this,_sort,e.DEFAULT_SORT),(0,_classPrivateFieldSet2.default)(this,_percentage,e.DEFAULT_PERCENTAGE),(0,_classPrivateFieldSet2.default)(this,_chartType,e.DEFAULT_CHART_TYPE),(0,_classPrivateFieldSet2.default)(this,_animation,e.DEFAULT_ANIMATION),(0,_classPrivateFieldSet2.default)(this,_alpha3D,e.DEFAULT_ALPHA_3D),(0,_classPrivateFieldSet2.default)(this,_beta3D,e.DEFAULT_BETA_3D),(0,_classPrivateFieldSet2.default)(this,_depth3D,e.DEFAULT_DEPTH_3D),(0,_classPrivateFieldSet2.default)(this,_seriesColors,e.DEFAULT_SERIES_COLORS),(0,_classPrivateFieldSet2.default)(this,_sort_userDefined,!1),(0,_classPrivateFieldSet2.default)(this,_percentage_userDefined,!1),(0,_classPrivateFieldSet2.default)(this,_chartType_userDefined,!1),(0,_classPrivateFieldSet2.default)(this,_animation_userDefined,!1),(0,_classPrivateFieldSet2.default)(this,_alpha3D_userDefined,!1),(0,_classPrivateFieldSet2.default)(this,_beta3D_userDefined,!1),(0,_classPrivateFieldSet2.default)(this,_depth3D_userDefined,!1),(0,_classPrivateFieldSet2.default)(this,_dataDrilldown_userDefined,!1),(0,_classPrivateFieldSet2.default)(this,_seriesColors_userDefined,!1),(0,_classPrivateFieldGet2.default)(this,_logger).trace(JSON.stringify(this))}return(0,_createClass2.default)(e,null,[{key:"DEFAULT_DATA_DRILLDOWN",get:function(){return!1}},{key:"DEFAULT_CHART_TYPE",get:function(){return"column"}},{key:"DEFAULT_SORT",get:function(){return!1}},{key:"DEFAULT_ANIMATION",get:function(){return!1}},{key:"DEFAULT_PERCENTAGE",get:function(){return!1}},{key:"DEFAULT_ALPHA_3D",get:function(){return 20}},{key:"DEFAULT_BETA_3D",get:function(){return 0}},{key:"DEFAULT_DEPTH_3D",get:function(){return 100}},{key:"DEFAULT_SERIES_COLORS",get:function(){return["rgb(0,66,157)","rgb(43,87,167)","rgb(66,108,176)","rgb(86,129,185)","rgb(105,151,194)","rgb(125,174,202)","rgb(147,196,210)","rgb(171,218,217)","rgb(202,239,223)","rgb(255,226,202)","rgb(255,196,180)","rgb(255,165,158)","rgb(249,134,137)","rgb(237,105,118)","rgb(221,76,101)","rgb(202,47,85)","rgb(177,19,70)","rgb(147,0,58)"]}}]),(0,_createClass2.default)(e,[{key:"getTitle",value:function(){return(0,_classPrivateFieldGet2.default)(this,_title)}},{key:"setTitle",value:function(e){return(0,_classPrivateFieldSet2.default)(this,_title,e),(0,_classPrivateFieldGet2.default)(this,_logger).debug("setTitle."),(0,_classPrivateFieldGet2.default)(this,_logger).trace(JSON.stringify(this)),this}},{key:"getSubtitle",value:function(){return(0,_classPrivateFieldGet2.default)(this,_subtitle)}},{key:"setSubtitle",value:function(e){return(0,_classPrivateFieldSet2.default)(this,_subtitle,e),(0,_classPrivateFieldGet2.default)(this,_logger).debug("setSubtitle"),(0,_classPrivateFieldGet2.default)(this,_logger).trace(JSON.stringify(this)),this}},{key:"getXLabel",value:function(){return(0,_classPrivateFieldGet2.default)(this,_xLabel)}},{key:"setXLabel",value:function(e){return(0,_classPrivateFieldSet2.default)(this,_xLabel,e),(0,_classPrivateFieldGet2.default)(this,_logger).debug("setXLabel."),(0,_classPrivateFieldGet2.default)(this,_logger).trace(JSON.stringify(this)),this}},{key:"getYLabel",value:function(){return(0,_classPrivateFieldGet2.default)(this,_yLabel)}},{key:"setYLabel",value:function(e){return(0,_classPrivateFieldSet2.default)(this,_yLabel,e),(0,_classPrivateFieldGet2.default)(this,_logger).debug("setYLabel."),(0,_classPrivateFieldGet2.default)(this,_logger).trace(JSON.stringify(this)),this}},{key:"getId",value:function(){return(0,_classPrivateFieldGet2.default)(this,_id)}},{key:"setId",value:function(e){return void 0!==e&&((0,_classPrivateFieldSet2.default)(this,_id,e),(0,_classPrivateFieldGet2.default)(this,_logger).debug("setId.")),(0,_classPrivateFieldGet2.default)(this,_logger).trace(JSON.stringify(this)),this}},{key:"getStackingType",value:function(){return(0,_classPrivateFieldGet2.default)(this,_stackingType)}},{key:"setStackingType",value:function(e){return(0,_classPrivateFieldSet2.default)(this,_stackingType,e),(0,_classPrivateFieldGet2.default)(this,_logger).debug("setStackingType."),(0,_classPrivateFieldGet2.default)(this,_logger).trace(JSON.stringify(this)),this}},{key:"getSeriesName",value:function(){return(0,_classPrivateFieldGet2.default)(this,_seriesName)}},{key:"setSeriesName",value:function(e){return(0,_classPrivateFieldSet2.default)(this,_seriesName,e),(0,_classPrivateFieldGet2.default)(this,_logger).debug("setSeriesName."),(0,_classPrivateFieldGet2.default)(this,_logger).trace(JSON.stringify(this)),this}},{key:"getData",value:function(){return(0,_classPrivateFieldGet2.default)(this,_data)}},{key:"setData",value:function(e,t,i){return(0,_classPrivateFieldSet2.default)(this,_data,e),null!=t&&this.setDataType(t),null!=i&&this.setDataDrilldown(i),(0,_classPrivateFieldGet2.default)(this,_logger).debug("setData."),(0,_classPrivateFieldGet2.default)(this,_logger).trace(JSON.stringify(this)),this}},{key:"getDataType",value:function(){return(0,_classPrivateFieldGet2.default)(this,_dataType)}},{key:"setDataType",value:function(e){if(!_common.DataType.contains(e))throw new TypeError("An unknown Data Type was set in the properties file: "+e);return(0,_classPrivateFieldSet2.default)(this,_dataType,e),(0,_classPrivateFieldGet2.default)(this,_logger).debug("setDataType."),(0,_classPrivateFieldGet2.default)(this,_logger).trace(JSON.stringify(this)),this}},{key:"getDataDrilldown",value:function(){return(0,_classPrivateFieldGet2.default)(this,_dataDrilldown)}},{key:"setDataDrilldown",value:function(e){return void 0!==e&&"boolean"==typeof e&&((0,_classPrivateFieldSet2.default)(this,_dataDrilldown,e),(0,_classPrivateFieldSet2.default)(this,_dataDrilldown_userDefined,!0)),(0,_classPrivateFieldGet2.default)(this,_logger).debug("setDataDrilldown."),(0,_classPrivateFieldGet2.default)(this,_logger).trace(JSON.stringify(this)),this}},{key:"getSort",value:function(){return(0,_classPrivateFieldGet2.default)(this,_sort)}},{key:"setSort",value:function(e){return void 0!==e&&((0,_classPrivateFieldSet2.default)(this,_sort,e),(0,_classPrivateFieldSet2.default)(this,_sort_userDefined,!0)),(0,_classPrivateFieldGet2.default)(this,_logger).debug("setSort."),(0,_classPrivateFieldGet2.default)(this,_logger).trace(JSON.stringify(this)),this}},{key:"getChartType",value:function(){return(0,_classPrivateFieldGet2.default)(this,_chartType)}},{key:"setChartType",value:function(e){return void 0!==e&&((0,_classPrivateFieldSet2.default)(this,_chartType,e),(0,_classPrivateFieldSet2.default)(this,_chartType_userDefined,!0)),(0,_classPrivateFieldGet2.default)(this,_logger).debug("setChartType."),(0,_classPrivateFieldGet2.default)(this,_logger).trace(JSON.stringify(this)),this}},{key:"getAnimation",value:function(){return(0,_classPrivateFieldGet2.default)(this,_animation)}},{key:"setAnimation",value:function(e){return void 0!==e&&((0,_classPrivateFieldSet2.default)(this,_animation,e),(0,_classPrivateFieldSet2.default)(this,_animation_userDefined,!0)),(0,_classPrivateFieldGet2.default)(this,_logger).debug("setAnimation."),(0,_classPrivateFieldGet2.default)(this,_logger).trace(JSON.stringify(this)),this}},{key:"getAlpha3D",value:function(){return(0,_classPrivateFieldGet2.default)(this,_alpha3D)}},{key:"setAlpha3D",value:function(e){return void 0!==e&&((0,_classPrivateFieldSet2.default)(this,_alpha3D,e),(0,_classPrivateFieldSet2.default)(this,_alpha3D_userDefined,!0)),(0,_classPrivateFieldGet2.default)(this,_logger).debug("setAlpha3D."),(0,_classPrivateFieldGet2.default)(this,_logger).trace(JSON.stringify(this)),this}},{key:"getBeta3D",value:function(){return(0,_classPrivateFieldGet2.default)(this,_beta3D)}},{key:"setBeta3D",value:function(e){return void 0!==e&&((0,_classPrivateFieldSet2.default)(this,_beta3D,e),(0,_classPrivateFieldSet2.default)(this,_beta3D_userDefined,!0)),(0,_classPrivateFieldGet2.default)(this,_logger).debug("setBeta3D."),(0,_classPrivateFieldGet2.default)(this,_logger).trace(JSON.stringify(this)),this}},{key:"getDepth3D",value:function(){return(0,_classPrivateFieldGet2.default)(this,_depth3D)}},{key:"setDepth3D",value:function(e){return void 0!==e&&((0,_classPrivateFieldSet2.default)(this,_depth3D,e),(0,_classPrivateFieldSet2.default)(this,_depth3D_userDefined,!0)),(0,_classPrivateFieldGet2.default)(this,_logger).debug("setDepth3D."),(0,_classPrivateFieldGet2.default)(this,_logger).trace(JSON.stringify(this)),this}},{key:"getSeriesColors",value:function(){return(0,_classPrivateFieldGet2.default)(this,_seriesColors)}},{key:"setSeriesColors",value:function(e){return void 0!==e&&((0,_classPrivateFieldSet2.default)(this,_seriesColors,e),(0,_classPrivateFieldSet2.default)(this,_seriesColors_userDefined,!0)),(0,_classPrivateFieldGet2.default)(this,_logger).debug("setSeriesColors."),(0,_classPrivateFieldGet2.default)(this,_logger).trace(JSON.stringify(this)),this}},{key:"getPercentage",value:function(){return(0,_classPrivateFieldGet2.default)(this,_percentage)}},{key:"setPercentage",value:function(e){return void 0!==e&&((0,_classPrivateFieldSet2.default)(this,_percentage,e),(0,_classPrivateFieldSet2.default)(this,_percentage_userDefined,!0)),(0,_classPrivateFieldGet2.default)(this,_logger).debug("setPercentage."),(0,_classPrivateFieldGet2.default)(this,_logger).trace(JSON.stringify(this)),this}},{key:"updateWith",value:function(t){return t&&t instanceof e?(!(0,_classPrivateFieldGet2.default)(this,_chartType_userDefined)&&t.chartType&&this.setChartType(t.chartType),null==this.title&&t.title&&this.setTitle(t.title),null==this.subtitle&&t.subtitle&&this.setSubtitle(t.subtitle),!this.xLabel&&t.xLabel&&this.setXLabel(t.xLabel),!this.yLabel&&t.yLabel&&this.setYLabel(t.yLabel),!this.stackingType&&t.stackingType&&this.setStackingType(t.stackingType),!this.data&&t.data&&this.setData(t.data),!this.dataType&&t.dataType&&this.setDataType(t.dataType),!(0,_classPrivateFieldGet2.default)(this,_dataDrilldown_userDefined)&&t.dataDrilldown&&this.setDataDrilldown(t.dataDrilldown),!(0,_classPrivateFieldGet2.default)(this,_sort_userDefined)&&t.sort&&this.setSort(t.sort),!(0,_classPrivateFieldGet2.default)(this,_animation_userDefined)&&t.animation&&this.setAnimation(t.animation),!(0,_classPrivateFieldGet2.default)(this,_percentage_userDefined)&&t.percentage&&this.setPercentage(t.percentage),!(0,_classPrivateFieldGet2.default)(this,_alpha3D_userDefined)&&t.alpha3D&&this.setAlpha3D(t.alpha3D),!(0,_classPrivateFieldGet2.default)(this,_beta3D_userDefined)&&t.beta3D&&this.setBeta3D(t.beta3D),!(0,_classPrivateFieldGet2.default)(this,_depth3D_userDefined)&&t.depth3D&&this.setDepth3D(t.depth3D),!(0,_classPrivateFieldGet2.default)(this,_seriesColors_userDefined)&&t.seriesColors&&this.setSeriesColors(t.seriesColors),!this.id&&t.id&&this.setId(t.id),this):this}},{key:"title",get:function(){return this.getTitle()},set:function(e){this.setTitle(e)}},{key:"subtitle",get:function(){return this.getSubtitle()},set:function(e){this.setSubtitle(e)}},{key:"xLabel",get:function(){return this.getXLabel()},set:function(e){this.setXLabel(e)}},{key:"yLabel",get:function(){return this.getYLabel()},set:function(e){this.setYLabel(e)}},{key:"id",get:function(){return this.getId()},set:function(e){this.setId(e)}},{key:"stackingType",get:function(){return this.getStackingType()},set:function(e){this.setStackingType(e)}},{key:"seriesName",get:function(){return this.getSeriesName()},set:function(e){this.setSeriesName(e)}},{key:"data",get:function(){return this.getData()},set:function(e){this.setData(e)}},{key:"dataType",get:function(){return this.getDataType()},set:function(e){this.setDataType(e)}},{key:"dataDrilldown",get:function(){return this.getDataDrilldown()},set:function(e){this.setDataDrilldown(e)}},{key:"sort",get:function(){return this.getSort()},set:function(e){this.setSort(e)}},{key:"chartType",get:function(){return this.getChartType()},set:function(e){this.setChartType(e)}},{key:"animation",get:function(){return this.getAnimation()},set:function(e){this.setAnimation(e)}},{key:"alpha3D",get:function(){return this.getAlpha3D()},set:function(e){this.setAlpha3D(e)}},{key:"beta3D",get:function(){return this.getBeta3D()},set:function(e){this.setBeta3D(e)}},{key:"depth3D",get:function(){return this.getDepth3D()},set:function(e){this.setDepth3D(e)}},{key:"seriesColors",get:function(){return this.getSeriesColors()},set:function(e){this.setSeriesColors(e)}},{key:"percentage",get:function(){return this.getPercentage()},set:function(e){this.setPercentage(e)}}],[{key:"create",value:function(t){var i=void 0;if(null==t?i=new e:t instanceof e?i=(new e).updateWith(t).setId(t.id):"string"==typeof t&&(t=JSON.parse(t)),null==i&&t.constructor==_common.Common.objectConstructor){i=new e;try{Object.seal(i),Object.assign(i,t)}catch(t){_common.Logger.error("Properties","Properties: tried to build an Object with the wrong structure. Returning a default Properties instance."),i=new e}}return i||new e}}]),e}();exports.Properties=Properties;

},{"./common.js":14,"@babel/runtime/helpers/classCallCheck":2,"@babel/runtime/helpers/classPrivateFieldGet":3,"@babel/runtime/helpers/classPrivateFieldSet":4,"@babel/runtime/helpers/createClass":5,"@babel/runtime/helpers/interopRequireDefault":9}],22:[function(require,module,exports){
"use strict";var _interopRequireDefault=require("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(exports,"__esModule",{value:!0}),exports.Result=void 0;var _classCallCheck2=_interopRequireDefault(require("@babel/runtime/helpers/classCallCheck")),_createClass2=_interopRequireDefault(require("@babel/runtime/helpers/createClass")),_classPrivateFieldGet2=_interopRequireDefault(require("@babel/runtime/helpers/classPrivateFieldGet")),_classPrivateFieldSet2=_interopRequireDefault(require("@babel/runtime/helpers/classPrivateFieldSet")),_common=require("./common.js"),_parser2=require("./parser.js"),_properties=require("./properties.js"),_logger=new WeakMap,_parser=new WeakMap,_defaultProperties=new WeakMap,Result=function(){function e(){if((0,_classCallCheck2.default)(this,e),_logger.set(this,{writable:!0,value:void 0}),_parser.set(this,{writable:!0,value:void 0}),_defaultProperties.set(this,{writable:!0,value:void 0}),this.constructor===e)throw new Error("Can not construct abstract class.");if(this.isMultipleSeries===e.prototype.isMultipleSeries)throw new TypeError("Please implement abstract method isMultipleSeries.");if(this.update===e.prototype.update)throw new TypeError("Please implement abstract method update.");(0,_classPrivateFieldSet2.default)(this,_logger,new _common.Logger("Result")),(0,_classPrivateFieldGet2.default)(this,_logger).debug("Constructor."),(0,_classPrivateFieldSet2.default)(this,_parser,void 0),(0,_classPrivateFieldSet2.default)(this,_defaultProperties,new _properties.Properties),"undefined"!=typeof sourceData&&setData(sourceData)}return(0,_createClass2.default)(e,[{key:"isMultipleSeries",value:function(){throw(0,_classPrivateFieldGet2.default)(this,_logger).fatal("isMultipleSeries() method should never execute, specializations of Result need to overload it."),new TypeError("Result.isMultipleSeries() method should not be called, implementations need to overload it.")}},{key:"setParser",value:function(e){if((0,_classPrivateFieldGet2.default)(this,_logger).debug("setParser."),!(e instanceof _parser2.Parser))throw(0,_classPrivateFieldGet2.default)(this,_logger).fatal("attribute parser must be an instance of Parser."),new TypeError("parser value must be an instance of Parser.");return(0,_classPrivateFieldSet2.default)(this,_parser,e),this}},{key:"getParser",value:function(){return(0,_classPrivateFieldGet2.default)(this,_parser)}},{key:"isDrilldown",value:function(){return(0,_classPrivateFieldGet2.default)(this,_logger).debug("getting drilldown."),this.properties.getDataDrilldown()}},{key:"update",value:function(e){throw(0,_classPrivateFieldGet2.default)(this,_logger).fatal("update() method should never execute, specializations of Result need to overload it."),new TypeError("Result.update() method should not be called, implementations need to overload it.")}},{key:"parse",value:function(e){this.update(e),e.getData()?(0,_classPrivateFieldGet2.default)(this,_parser)?((0,_classPrivateFieldGet2.default)(this,_parser).preparse(e),(0,_classPrivateFieldGet2.default)(this,_parser).onparse(e),(0,_classPrivateFieldGet2.default)(this,_parser).postparse(e),e.updateWith(this.properties)):(0,_classPrivateFieldGet2.default)(this,_logger).trace("Can't parse, please set the parser first. Parser should be set on a Result subclass."):(0,_classPrivateFieldGet2.default)(this,_logger).trace("Can't parse, please set the Airr Data Commons data first.")}},{key:"properties",get:function(){return(0,_classPrivateFieldGet2.default)(this,_defaultProperties)}},{key:"series",get:function(){if((0,_classPrivateFieldGet2.default)(this,_logger).debug("getting series."),this.parser)return this.parser.series}},{key:"multipleSeries",get:function(){return this.isMultipleSeries()}},{key:"parser",get:function(){return this.getParser()},set:function(e){this.setParser(e)}},{key:"drilldown",get:function(){return(0,_classPrivateFieldGet2.default)(this,_logger).debug("getting drilldown."),this.isDrilldown()}}]),e}();exports.Result=Result;

},{"./common.js":14,"./parser.js":20,"./properties.js":21,"@babel/runtime/helpers/classCallCheck":2,"@babel/runtime/helpers/classPrivateFieldGet":3,"@babel/runtime/helpers/classPrivateFieldSet":4,"@babel/runtime/helpers/createClass":5,"@babel/runtime/helpers/interopRequireDefault":9}],23:[function(require,module,exports){
"use strict";var _interopRequireDefault=require("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(exports,"__esModule",{value:!0}),exports.ResultSeries=exports.ResultSeriesDataItem=void 0;var _classCallCheck2=_interopRequireDefault(require("@babel/runtime/helpers/classCallCheck")),_createClass2=_interopRequireDefault(require("@babel/runtime/helpers/createClass")),_classPrivateFieldGet2=_interopRequireDefault(require("@babel/runtime/helpers/classPrivateFieldGet")),_classPrivateFieldSet2=_interopRequireDefault(require("@babel/runtime/helpers/classPrivateFieldSet")),_common=require("./common.js"),_logger=new WeakMap,_name=new WeakMap,_x=new WeakMap,_y=new WeakMap,_z=new WeakMap,_color=new WeakMap,_drilldown=new WeakMap,ResultSeriesDataItem=function(){function e(){(0,_classCallCheck2.default)(this,e),_logger.set(this,{writable:!0,value:void 0}),_name.set(this,{writable:!0,value:void 0}),_x.set(this,{writable:!0,value:void 0}),_y.set(this,{writable:!0,value:void 0}),_z.set(this,{writable:!0,value:void 0}),_color.set(this,{writable:!0,value:void 0}),_drilldown.set(this,{writable:!0,value:void 0}),(0,_classPrivateFieldSet2.default)(this,_logger,new _common.Logger("ResultSeriesDataItem")),(0,_classPrivateFieldGet2.default)(this,_logger).debug("Constructor."),(0,_classPrivateFieldSet2.default)(this,_name,void 0),(0,_classPrivateFieldSet2.default)(this,_x,void 0),(0,_classPrivateFieldSet2.default)(this,_y,void 0),(0,_classPrivateFieldSet2.default)(this,_z,void 0),(0,_classPrivateFieldSet2.default)(this,_color,void 0),(0,_classPrivateFieldSet2.default)(this,_drilldown,void 0)}return(0,_createClass2.default)(e,[{key:"getName",value:function(){return(0,_classPrivateFieldGet2.default)(this,_name)}},{key:"setName",value:function(e){return(0,_classPrivateFieldSet2.default)(this,_name,e),this}},{key:"getX",value:function(){return(0,_classPrivateFieldGet2.default)(this,_x)}},{key:"setX",value:function(e){return(0,_classPrivateFieldSet2.default)(this,_x,e),this}},{key:"getY",value:function(){return(0,_classPrivateFieldGet2.default)(this,_y)}},{key:"setY",value:function(e){return(0,_classPrivateFieldSet2.default)(this,_y,e),this}},{key:"getZ",value:function(){return(0,_classPrivateFieldGet2.default)(this,_z)}},{key:"setZ",value:function(e){return(0,_classPrivateFieldSet2.default)(this,_z,e),this}},{key:"getColor",value:function(){return(0,_classPrivateFieldGet2.default)(this,_color)}},{key:"setColor",value:function(e){return(0,_classPrivateFieldSet2.default)(this,_color,e),this}},{key:"getDrilldown",value:function(){return(0,_classPrivateFieldGet2.default)(this,_drilldown)}},{key:"setDrilldown",value:function(e){return(0,_classPrivateFieldSet2.default)(this,_drilldown,e),this}},{key:"toJSON",value:function(){var e={name:this.name,x:this.x,y:this.y,z:this.z,color:this.color,drilldown:this.drilldown};for(var t in e){if(e.hasOwnProperty(t))null==e[t]&&delete e[t]}return e}},{key:"name",get:function(){return this.getName()},set:function(e){this.setName(e)}},{key:"x",get:function(){return this.getX()},set:function(e){this.setX(e)}},{key:"y",get:function(){return this.getY()},set:function(e){this.setY(e)}},{key:"z",get:function(){return this.getZ()},set:function(e){this.setZ(e)}},{key:"color",get:function(){return this.getColor()},set:function(e){this.setColor(e)}},{key:"drilldown",get:function(){return this.getDrilldown()},set:function(e){this.setDrilldown(e)}}]),e}();exports.ResultSeriesDataItem=ResultSeriesDataItem;var _logger2=new WeakMap,_repertoireId=new WeakMap,_sampleProcessingId=new WeakMap,_dataProcessingId=new WeakMap,_id=new WeakMap,_name2=new WeakMap,_fieldName=new WeakMap,_data=new WeakMap,_type=new WeakMap,_parentName=new WeakMap,_color2=new WeakMap,_stack=new WeakMap,ResultSeries=function(){function e(){(0,_classCallCheck2.default)(this,e),_logger2.set(this,{writable:!0,value:void 0}),_repertoireId.set(this,{writable:!0,value:void 0}),_sampleProcessingId.set(this,{writable:!0,value:void 0}),_dataProcessingId.set(this,{writable:!0,value:void 0}),_id.set(this,{writable:!0,value:void 0}),_name2.set(this,{writable:!0,value:void 0}),_fieldName.set(this,{writable:!0,value:void 0}),_data.set(this,{writable:!0,value:void 0}),_type.set(this,{writable:!0,value:void 0}),_parentName.set(this,{writable:!0,value:void 0}),_color2.set(this,{writable:!0,value:void 0}),_stack.set(this,{writable:!0,value:void 0}),(0,_classPrivateFieldSet2.default)(this,_logger2,new _common.Logger("ResultSeries")),(0,_classPrivateFieldGet2.default)(this,_logger2).debug("Constructor."),(0,_classPrivateFieldSet2.default)(this,_repertoireId,void 0),(0,_classPrivateFieldSet2.default)(this,_sampleProcessingId,void 0),(0,_classPrivateFieldSet2.default)(this,_dataProcessingId,void 0),(0,_classPrivateFieldSet2.default)(this,_id,void 0),(0,_classPrivateFieldSet2.default)(this,_name2,void 0),(0,_classPrivateFieldSet2.default)(this,_fieldName,void 0),(0,_classPrivateFieldSet2.default)(this,_data,void 0),(0,_classPrivateFieldSet2.default)(this,_type,void 0),(0,_classPrivateFieldSet2.default)(this,_parentName,void 0),(0,_classPrivateFieldSet2.default)(this,_color2,void 0),(0,_classPrivateFieldSet2.default)(this,_stack,void 0)}return(0,_createClass2.default)(e,[{key:"setRepertoireId",value:function(e){return(0,_classPrivateFieldSet2.default)(this,_repertoireId,e),this}},{key:"setSampleProcessingId",value:function(e){return(0,_classPrivateFieldSet2.default)(this,_sampleProcessingId,e),this}},{key:"setDataProcessingId",value:function(e){return(0,_classPrivateFieldSet2.default)(this,_dataProcessingId,e),this}},{key:"setId",value:function(e){return(0,_classPrivateFieldSet2.default)(this,_id,e),this}},{key:"setName",value:function(e){return(0,_classPrivateFieldSet2.default)(this,_name2,e),this}},{key:"setFieldName",value:function(e){return(0,_classPrivateFieldSet2.default)(this,_fieldName,e),this}},{key:"setData",value:function(e){return(0,_classPrivateFieldSet2.default)(this,_data,e),this}},{key:"setType",value:function(e){if(!e instanceof _common.ResultSeriesType)throw"type mus be an instance of ResultSeriesType";if(!_common.ResultSeriesType.contains(e.typeCode))throw"type must exist in ResultSeriesType.types";return(0,_classPrivateFieldSet2.default)(this,_type,e),this}},{key:"setParentName",value:function(e){return(0,_classPrivateFieldSet2.default)(this,_parentName,e),this}},{key:"setColor",value:function(e){return(0,_classPrivateFieldSet2.default)(this,_color2,e),this}},{key:"setStack",value:function(e){return(0,_classPrivateFieldSet2.default)(this,_stack,e),this}},{key:"toJSON",value:function(){return{repertoireId:this.repertoireId,sampleProcessingId:this.sampleProcessingId,dataProcessingId:this.dataProcessingId,name:this.name,fieldName:this.fieldName,parentName:this.parentName,type:this.type,color:this.color,data:this.data}}},{key:"asHighchartSeries",value:function(){var e={id:this.id,name:this.name,color:this.color};for(var t in e){if(e.hasOwnProperty(t))null==e[t]&&delete e[t]}return(0,_classPrivateFieldGet2.default)(this,_data)&&(e.data=(0,_classPrivateFieldGet2.default)(this,_data).map(function(e){return e.toJSON()})),e}},{key:"repertoireId",get:function(){return(0,_classPrivateFieldGet2.default)(this,_repertoireId)},set:function(e){this.setRepertoireId(e)}},{key:"sampleProcessingId",get:function(){return(0,_classPrivateFieldGet2.default)(this,_sampleProcessingId)},set:function(e){this.setSampleProcessingId(e)}},{key:"dataProcessingId",get:function(){return(0,_classPrivateFieldGet2.default)(this,_dataProcessingId)},set:function(e){this.setDataProcessingId(e)}},{key:"id",get:function(){return(0,_classPrivateFieldGet2.default)(this,_id)},set:function(e){this.setId(e)}},{key:"name",get:function(){return(0,_classPrivateFieldGet2.default)(this,_name2)},set:function(e){this.setName(e)}},{key:"fieldName",get:function(){return(0,_classPrivateFieldGet2.default)(this,_fieldName)},set:function(e){this.setFieldName(e)}},{key:"data",get:function(){return(0,_classPrivateFieldGet2.default)(this,_data)||(0,_classPrivateFieldSet2.default)(this,_data,[]),(0,_classPrivateFieldGet2.default)(this,_data)},set:function(e){this.setData(e)}},{key:"type",get:function(){return(0,_classPrivateFieldGet2.default)(this,_type)},set:function(e){this.setType(e)}},{key:"parentName",get:function(){return(0,_classPrivateFieldGet2.default)(this,_parentName)},set:function(e){this.setParentName(e)}},{key:"color",get:function(){return(0,_classPrivateFieldGet2.default)(this,_color2)},set:function(e){this.setColor(e)}},{key:"stack",get:function(){return(0,_classPrivateFieldGet2.default)(this,_stack)},set:function(e){this.setStack(e)}}]),e}();exports.ResultSeries=ResultSeries;

},{"./common.js":14,"@babel/runtime/helpers/classCallCheck":2,"@babel/runtime/helpers/classPrivateFieldGet":3,"@babel/runtime/helpers/classPrivateFieldSet":4,"@babel/runtime/helpers/createClass":5,"@babel/runtime/helpers/interopRequireDefault":9}]},{},[19]);
